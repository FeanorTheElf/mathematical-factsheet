\documentclass{scrartcl}

\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[ngerman]{babel}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xparse}
\usepackage{geometry}
%\geometry{a4paper,margin=1in}

\title{Collection of arbitrary mathematical facts}
\date{}

\newcommand{\Ex}{\mathrm{E}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\vol}{\mathrm{vol}}
\newcommand{\divides}{\ | \ }
\newcommand\restr[2]{{
    \left.\kern-\nulldelimiterspace
    #1
    \vphantom{\big|}
    \right|_{#2}
}}

\begin{document}

\maketitle

\tableofcontents

\paragraph{An undeniable fact:} It holds $0 \in \N$. If you do not see that this is obviously, inarguably true, then you are lost.

\section{Set Theory}

\subsection{Zorn's Lemma}
Let $X$ be a partially ordered set, in which every chain has an upper bound. Then $X$ has a maximal element.
\paragraph{Proof} Show that the set $\mathcal{X} \subseteq 2^X$ of chains in $X$ has a maximal element, so $X$ has a maximal chain (whose upper bound then is the required maximal element).

Let $f: 2^X \setminus \{\emptyset\} \to X$ be a choice function for $X$, so $f(S) \in S$ for each $S \subseteq X$. Then define
\begin{equation}
    g: \mathcal{X} \to \mathcal{X}, \quad C \mapsto \begin{cases}
        C, & \text{if $C$ maximal} \\
        C \cup \left\{ f\left(\{ x \in X \ | \ \text{$x$ comparable with $C$} \}\right) \right\}, & \text{otherwise}
    \end{cases} \nonumber
\end{equation}
where we say that an element $x \in X$ is comparable with a set $S \subseteq X$, if $x$ is comparable with $s$ for all $s \in S$.
\subparagraph{Definition Tower} Call a subset $\mathcal{T} \subseteq \mathcal{X}$ tower, if
\begin{itemize}
    \item $\emptyset \in \mathcal{T}$
    \item If $C \in \mathcal{T}$, then $g(C) \in \mathcal{T}$
    \item If $\mathcal{S} \subseteq \mathcal{T}$ is a chain, then $\bigcup \mathcal{S} \in \mathcal{T}$
\end{itemize}
The intersection of towers is a tower, so have a smallest tower $\mathcal{R} := \bigcap \{ \mathcal{T} \subseteq \mathcal{X} \ | \ \text{$\mathcal{T}$ tower} \}$ in $\mathcal{X}$. We show that $\mathcal{R}$ is a chain. Consider the set $\mathcal{C} := \{ A \in \mathcal{R} \ | \ \text{$A$ comparable to $\mathcal{R}$}\}$ of comparable elements in $\mathcal{R}$.

\subparagraph{Show} $\mathcal{C}$ is a tower, so $\mathcal{R} = \mathcal{C}$ and therefore, $\mathcal{R}$ is a chain.

Trivially, we have $\emptyset \in \mathcal{C}$ as $\emptyset \subseteq A$ for each $A \in \mathcal{R}$. For a chain $\mathcal{S} \subseteq \mathcal{C}$ and any $A \in \mathcal{R}$, have either $A \subseteq S$ for some $S \in \mathcal{S}$, so $A \subseteq \bigcup \mathcal{S}$, or $S \subseteq A$ for each $S \in \mathcal{S}$, so $\bigcup \mathcal{S} \subseteq A$. 
Therefore, it is left to show that for $\mathcal{C}$ is closed under $g$. Let $B \in \mathcal{C}$.

\subparagraph{Show} The set $\mathcal{U} := \{ A \in \mathcal{R} \ | \ A \subseteq B \vee g(B) \subseteq A \} \subseteq \mathcal{R}$ is a tower. It then follows that $\mathcal{R} = \mathcal{U}$, so for each $A \in \mathcal{R}$, have $A \subseteq B \subseteq g(B)$ or $g(B) \subseteq A$. Hence, $g(B)$ is comparable to $\mathcal{R}$. Obviously, $\emptyset \in \mathcal{U}$ and for a chain $\mathcal{S} \subset \mathcal{U}$, also $\bigcup \mathcal{S} \in \mathcal{U}$. Additionally, for $U \in \mathcal{U}$, have:

If $g(B) \subseteq U$, then also $g(B) \subseteq g(U)$. 

Otherwise, $U \subseteq B$. If $B = U$, then $g(B) \subseteq g(U)$, so we may assume $U \subsetneq B$. We have that $U \in \mathcal{R}$, so $g(U) \in \mathcal{R}$ (because $\mathcal{R}$ is a tower) and therefore, $B$ is comparable to $g(U)$.
\\$\Rightarrow g(U) \subseteq B$, because if $B \subsetneq g(U)$, we would have $U \subsetneq B \subsetneq g(U)$, however, $g(U) \setminus U$ has at most one element. Hence, $g(U) \in \mathcal{U}$, so $\mathcal{U} = \mathcal{C} = \mathcal{R}$ are towers.

\subparagraph{Show} The set $C := \bigcup \mathcal{R}$ is a maximal element in $\mathcal{X}$.

$\mathcal{R}$ is a chain and a tower, so $C \in \mathcal{R}$. We also have $g(C) \in \mathcal{R}$, as $\mathcal{R}$ is a tower.
\\$\Rightarrow g(C) \subseteq C$ and therefore $C = g(C)$, so $C$ is maximal in $\mathcal{X}$ by definition of $g$.

\subsection{Ultrafilter Lemma}
For each filter $\mathcal{F}$ on a set $X$ there is a ultrafilter $\mathcal{U}$ such that $\mathcal{F} \subseteq \mathcal{U}$. 

\subsection{Product Cardinality}
For infinite set $X$ have $\mathrm{card}(X) = \mathrm{card}(X \times X)$. For a proof, consider the following lemma
\subsubsection{Lemma}
\label{aleph_identity_lemma}
Let $f: \mathrm{On} \to \mathrm{On}$ be an increasing function with
\begin{itemize}
    \item $f(\aleph_0) = \aleph_0$
    \item If $\mathrm{card}(\alpha) = \mathrm{card}(\beta)$ then $\mathrm{card}(f(\alpha)) = \mathrm{card}(f(\beta))$
    \item For limit ordinal $\lambda$ have $f(\lambda) = \bigcup_{\delta < \lambda} f(\delta)$
\end{itemize}
Then $f(\aleph_\delta) = \aleph_\delta$ for each $\delta \in \mathrm{On}$. This lemma is easy to show by transfinite induction.

\paragraph{Proof} Consider the order $\leq$ on $\mathrm{On}^2$ given by 
\begin{equation*}
    (a_0, a_1) \leq (b_0, b_1) :\Leftrightarrow \begin{cases} \max \{a_0,a_1\} < \max \{b_0,b_1\} \ \vee \\ \max \{a_0,a_1\} = \max \{b_0,b_1\}, a_0 < b_0 \ \vee \\ \max \{a_0,a_1\} = \max \{b_0,b_1\}, a_0 = b_0, a_1 \leq b_1 \end{cases}
\end{equation*}
Then $f: \mathrm{On} \to \mathrm{On}, \ \alpha \mapsto \mathrm{ord}(\alpha \times \alpha)$ fulfills the conditions from the lemma.$\hfill\square$

\subsection{Power Cardinality}
For an infinite set $X$ and any set $Y$ have $\mathrm{card}(X^Y) = \max \{ \mathrm{card}(X), \mathrm{card}(\mathfrak{P}(Y)) \}$. 
\paragraph{Proof} Have bijections
\begin{equation*}
    \mathfrak{P}(Y)^Y \to \left( 2^Y \right)^Y \to 2^{Y \times Y} \to \mathfrak{P}(Y^2)
\end{equation*}
So by the previous proposition, $\mathrm{card}(\mathfrak{P}(Y)^Y) = \mathrm{card}(\mathfrak{P}(Y))$. So in the case $\mathrm{card}(X) \leq \mathrm{card}(\mathfrak{P}(Y))$ the claim is already shown.

Otherwise have $\gamma = \mathrm{card}(Y)$ and use a variant of the lemma \ref{aleph_identity_lemma}, where all conditions and the result only hold for ordinals $\geq \gamma$ to show that $\mathrm{card}(\mu^\gamma) = \mathrm{card}(\mu)$ for all $\mu \geq 2^\gamma$.

Consider the order $\leq$ on $\mathrm{On}^\gamma$ given by
\begin{equation*}
    (a_y)_y \leq (b_y)_y :\Leftrightarrow \begin{cases} \sup_y a_y < \sup_y b_y \ \vee \\ \sup_y a_y = \sup_y b_y, \ (a_y)_y \leq_{\text{lexiographic}} (b_y)_y \end{cases}
\end{equation*}
Then the function $\mathrm{On} \to \mathrm{On}, \ \alpha \mapsto \mathrm{ord}(\alpha^\gamma)$ fulfills the conditions of the modified lemma, and the claim follows as $\mathrm{card}(X) \geq 2^\gamma$.$\hfill\square$

\subsection{Ordinal arithmetic}
For $\alpha, \beta \in \mathrm{On}$ define $\alpha + \beta := \mathrm{ord}((\{0\} \times \alpha) \cup (\{1\} \times \beta))$ (with lexiographic ordering).
Then have the following properties (which also define $+$ by transfinite recursion)
\begin{itemize}
    \item $\alpha + 0 = \alpha$
    \item $\alpha + (\beta + 1) = (\alpha + \beta) + 1$
    \item $\alpha + \lambda = \bigcup_{\beta < \lambda} \alpha + \beta$ for limit ordinal $\lambda$
\end{itemize}
Furthermore have then
\begin{itemize}
    \item $0 + \alpha = \alpha$
    \item $(\alpha + \beta) + \gamma = \alpha + (\beta + \gamma)$
    \item $\alpha + \beta = \alpha + \gamma \ \Rightarrow \ \beta = \gamma$ (but in general not for right-addition)
\end{itemize}
Then define $\cdot$ by $\alpha \cdot \beta := \mathrm{ord}(\alpha \times \beta)$ (with lexicographic ordering).
Then have the following properties (which also define $\cdot$ by transfinite recursion)
\begin{itemize}
    \item $\alpha \cdot 0 = 0$
    \item $\alpha \cdot (\beta + 1) = \alpha \cdot \beta + \alpha$
    \item $\alpha \cdot \lambda = \bigcup_{\beta < \lambda} \alpha \cdot \beta$ for limit ordinal $\lambda$
\end{itemize}
Furthermore have then
\begin{itemize}
    \item $0 \cdot \alpha = 0$
    \item $1 \cdot \alpha = \alpha \cdot 1 = \alpha$
    \item $(\alpha \cdot \beta) \cdot \gamma = \alpha \cdot (\beta \cdot \gamma)$
    \item $\alpha \cdot (\beta + \gamma) = \alpha \cdot \beta + \alpha \cdot \gamma$ (but in general no right-distributivity)
    \item $\alpha \cdot \beta = \alpha \cdot \gamma, \ \alpha \neq 0 \ \Rightarrow \ \beta = \gamma$ (but in general not for right-multiplication)
\end{itemize}

\section{Logic}

Let $\mathcal{L}$ be a formal language.

\subsection*{Definition Proof}
In 1st order logic proofs, we allow Modus Ponens and Generalization, and the following base axioms:
\begin{align*}
    &\{ \forall x \ \phi \rightarrow \phi(x/t) \ | \ \text{$x$ is free in $\phi$ for $t$} \} \cup \{ \forall \ (\phi \rightarrow \psi) \rightarrow (\phi \rightarrow \forall x \ \psi) \ | \ \text{$x$ free in $\phi$}\} \\
    \cup \ & \{ x = x \ | \ \} \cup \{x = y \rightarrow (y = z \rightarrow x = z) \ | \ \} \\
    \cup \ & \{ x = y \rightarrow (R(v_1, ..., v_i, x, v_{i + 1}, ..., v_n) \rightarrow R(v_1, ..., v_i, x, v_{i + 1}, ..., v_n)) \ | \ \} \\
    \cup \ & \{ x = y \rightarrow (f(v_1, ..., v_i, x, v_{i + 1}, ..., v_n) = f(v_1, ..., v_i, y, v_{i + 1}, ..., v_n)) \ | \ \}
\end{align*}

\subsection{Deduction theorem}
Let $\Sigma \subseteq \mathrm{Fml}(\mathcal{L}), \phi \in \mathrm{Sen}(\mathcal{L}), \psi \in \mathrm{Fml}(\mathcal{L})$. If $\Sigma \cup \{\phi\} \vdash \psi$ then $\Sigma \vdash (\phi \rightarrow \psi)$.

\subsection{Constant lemma}
Let $\phi_1, ..., \phi_n, \phi \in \mathrm{Fml}(\mathcal{L})$ and $x$ a variable not occurring in the $\phi, \phi_i$ and $\mathcal{L}'$ an extension of $\mathcal{L}$ by a constant $c$. If $\phi_1, ..., \phi_n \vdash_{\mathcal{L}'} \phi$ then $\phi_1(c/x), ..., \phi_n(c/x) \vdash_{\mathcal{L}} \phi(c/x)$.

\subsection{Gödel's completeness theorem}
\label{goedel_completeness}
Let $\Sigma \subseteq \mathrm{Fml}(\mathcal{L})$ and $\alpha \in \mathrm{Sen}(\mathcal{L})$. If $\Sigma \not\vdash \alpha$ then there is a model $\mathcal{M}$ of $\Sigma$ with $\mathcal{M} \not\models \alpha$.
\paragraph{Proof idea} First we construct a witness extension for $\Sigma$, so an extension by constants $\mathcal{L}'$ of $\mathcal{L}$ and a consistent set $\Sigma' \supseteq \Sigma$ of $\mathcal{L}'$-sentences such that whenever $\Sigma' \vdash \exists x \ \phi$ for an $\mathcal{L}'$-formula $\phi$ with the only free variable $x$ have $\Sigma' \vdash \phi(x/c_{\phi})$ for a constant $c_\phi$. This can be done by recursivly adding witnesses for each suitable formula and then unifying the chain of languages that were creates.

Now have $\Sigma \cup \{\neg \alpha\}$ is consistent, so contained in a maximally consistent theory $T$. Repeatedly considering witness extensions and maximally consistent supertheories, get that wlog $T$ is a witness extension of $\Sigma \cup \{\neg \alpha\}$. Using this, construct a model where the universe are all variable-free terms of $\mathcal{L}'$ modulo $T$-provable equality. This is then a model of $\Sigma \cup \{\neg \alpha\}$ and the claim follows. 

\subsection{Compactness theorem}
\label{compactness_theorem}
Let $\Sigma \subseteq \mathrm{Sen}(\mathcal{L})$. If every finite subset of $\Sigma$ has a model, then $\Sigma$ has a model.

\subsection{Löwenheim-Skolem}
Let $\Sigma \subseteq \mathrm{Sen}(\mathcal{L})$.
\begin{itemize}
    \item If $\Sigma$ has a model, then it has one of cardinality $\leq \kappa_{\mathcal{L}}$
    \item If $\Sigma$ has an infinite model, then it has one of cardinality $\kappa$ for each $\kappa \geq \kappa_{\mathcal{L}}$
\end{itemize}
\paragraph{Proof idea} The construction in \ref{goedel_completeness} creates a model of cardinality $\leq \kappa_{\mathcal{L}}$. Greater models can be constructed by adding as many constants and unequal-axioms to $\Sigma$ (stays consistent by the compactness theorem).

\subsection{Separation lemma}
\label{separation_lemma}
Let $\Sigma_1, \Sigma_2, \Gamma \subseteq \mathrm{Sen}(\mathcal{L})$. If for each $\mathcal{M}_1 \models \Sigma_1$ and $\mathcal{M}_2 \models \Sigma_2$ have $\gamma \in \Gamma$ that separates them (i.e. $\mathcal{M}_1 \models \gamma, \mathcal{M}_2 \models \neg\gamma$), then there is $\gamma^* = \bigvee_i \bigwedge_j \gamma_{ij}$ with $\gamma_{ij} \in \Gamma$ separating $\mathrm{Mod}_{\mathcal{L}}(\Sigma_1)$ and $\mathrm{Mod}_{\mathcal{L}}(\Sigma_2)$ (i.e. $\mathrm{Mod}_{\mathcal{L}}(\Sigma_1) \subseteq \mathrm{Mod}_{\mathcal{L}}(\gamma^*)$ and $\mathrm{Mod}_{\mathcal{L}}(\Sigma_2) \subseteq \mathrm{Mod}_{\mathcal{L}}(\neg\gamma^*)$).
\paragraph{Proof idea} Use the compactness theorem twice on covers by $\mathrm{Mod}_{\mathcal{L}}(\gamma), \gamma \in \Gamma$.

\subsection{Vaught's test}
Let $T$ be an $\mathcal{L}$-theory. If $T$ has only infinite models and is $\kappa$-categorical for some $\kappa \geq \kappa_{\mathcal{L}}$, then $T$ is complete.
\paragraph{Proof} If $T \cup \{\alpha\}$ and $T \cup \{\neg \alpha\}$ would be consistent, Löwenheim-Skolem yields corresponding models of cardinality $\kappa$, which then are isomorphic. This is a contradiction.$\hfill\square$

\subsection{Quantifier elimination}
A set $\Sigma \subseteq \mathrm{Sen}(\mathcal{L})$ has quantifier elimination, if any of the following equivalent definitions are fulfilled:
\begin{itemize}
    \item for every $\mathcal{L}$-formula $\phi$ there is a quantifier-free $\mathcal{L}$-formula $\psi$ with no additional free variables such that $\Sigma \vdash \phi \leftrightarrow \psi$.
    \item for every substructure $\mathcal{A}$ of a model of $\Sigma$ have that $\Sigma \cup \mathcal{D}(\mathcal{A}) \subseteq \mathrm{Sen}(\mathcal{L}(\mathcal{A}))$ is complete.
    \item for every two models $\mathcal{M}_1, \mathcal{M}_2$ of $\Sigma$ and a joint substructure $\mathcal{A}$ of $\mathcal{M}_1$ and $\mathcal{M}_2$ have that:
    \begin{equation*}
        (\mathcal{M}_1, \mathrm{id}_{|\mathcal{A}|}) \models \phi \ \Leftrightarrow \ (\mathcal{M}_2, \mathrm{id}_{|\mathcal{A}|}) \models \phi
    \end{equation*}
    for every formula $\phi \in \mathrm{Sen}(\mathcal{L}(\mathcal{A}))$ of the form $\phi = \exists x \psi$ with a quantifier-free $\psi$.
\end{itemize}
\paragraph{Proof idea} Use the separation lemma \ref{separation_lemma}.

\section{Model Theory}

Let $\mathcal{L}$ be a formal language.

\subsection{Extending embeddings}
Let $\mathcal{S} \subset \mathcal{M}$ be an $\mathcal{L}$-substructure and $f: \mathcal{S} \to \mathcal{N}$ and elementary embedding.
Then there is an elementary embedding $F: \langle |\mathcal{S}|, a \rangle \to \mathcal{N}$ that extends $f$ with $F(a) = b$ if and only if $b$ realizes $f(\mathrm{tp}^{\mathcal{M}}(a/|\mathcal{S}|))$.
\paragraph{Proof idea} The condition $F(a) = b$ uniquely defines $F$, so just check well-definedness. 

\subsection{Chains}
\label{model_chains_union}
Let $(\mathcal{M}_\beta)_{\beta < \alpha}$ be an $\alpha$-chain. Then
\begin{equation*}
    \bigcap_{\beta < \alpha} \mathrm{Th}_{\forall\exists}(\mathcal{M}_\beta) \subseteq \mathrm{Th}_{\forall\exists}\Bigl( \bigcup_{\beta < \alpha} \mathcal{M}_\beta \Bigr)
\end{equation*}
If $(\mathcal{M}_\beta)_{\beta < \alpha}$ is elementary, then even
\begin{equation*}
    \mathcal{M}_\beta \prec \bigcup_{\gamma < \alpha} \mathcal{M}_\gamma \ \text{for all} \ \beta < \alpha
\end{equation*}
\paragraph{Proof idea} Part (i) is easily proven by considering a large enough $\beta$ such that all finitely many elements required for a counterexample are in $\mathcal{M}_\beta$. 
Part (ii) is proven via transfinite induction and a similar argument in the transfinite case.

\subsection{Embeddings and saturated structures}
\label{saturation_embedding}
Let $\mathcal{M}, \mathcal{N}$ be $\mathcal{L}$-structure, $\mathcal{N}$ is $\mathrm{card}(\mathcal{M})$-saturated.
\begin{itemize}
    \item If $\mathrm{Th}_\exists(\mathcal{M}) \subseteq \mathrm{Th}_\exists(\mathcal{N})$ then $\mathcal{M}$ embeds into $\mathcal{N}$
    \item If $\mathrm{Th}(\mathcal{M}) = \mathrm{Th}(\mathcal{N})$ then $\mathcal{M}$ embeds elementarily into $\mathcal{N}$
\end{itemize}
\paragraph{Proof idea} Let $(a_\beta)_{\beta < \kappa}$ be the elements of $\mathcal{M}$. 
Then construct by transfinite induction a chain of maps $f_\beta: A_\beta := \{a_\gamma \ | \ \gamma < \beta\} \to \mathcal{N}$ such that
\begin{equation*}
    \mathrm{Th}_\exists(\mathcal{M}, (a_\gamma)_{\gamma < \beta}) \subseteq \mathrm{Th}_\exists(\mathcal{N}, f) \quad \text{resp.} \quad \mathrm{Th}(\mathcal{M}, (a_\gamma)_{\gamma < \beta}) = \mathrm{Th}(\mathcal{N}, f)
\end{equation*}
In the inductive step, the next element is found by considering the types $f(\mathrm{tp}_\exists^{\mathcal{M}}(a_\beta / A_\beta))$ resp $f(\mathrm{tp}^{\mathcal{M}}(a_\beta / A_\beta))$ over $\mathcal{N}$.

\subsection{Back-and-forth Argument}
\label{back_and_forth}
Let $M, N$ be sets of same cardinality $\kappa$ and $\mathcal{G}$ a class of bijective maps $A \to B$ for subsets $A \subseteq M, B \subseteq N$.
Assume that $\mathcal{G}$ is invariant under monotonous unions and for $f: A \to B \in \mathcal{G}$ and $a \in M \setminus A, \ b \in N \setminus B$ there are extensions $f_a: A \cup \{a\} \to B', \ f_b: A' \to B \cup \{b\}$.
Then there is a bijective map $F: M \to N$ in $\mathcal{G}$.
\paragraph{Proof} Let $(a_\beta)_{\beta < \kappa}$ be the elements of $M$ and $(b_\beta)_{\beta < \kappa}$ be the elements of $N$.
Construct $f_\beta: A_\beta \to B_\beta$ in $\mathcal{G}$ by transfinite induction such that $a_\gamma \in A_\beta, \ b_\gamma \in B_\beta$ for all $\gamma < \beta$.
Thus $A_\kappa = M$ and $B_\kappa = N$. The claims for the induction follow directly by the assumptions.

\subsection{Saturation and Isomorphisms}
Let $\mathcal{M} \equiv \mathcal{N}$ be saturated. Then $\mathcal{M} \cong \mathcal{N}$.
\paragraph{Proof idea} 
Use \ref{back_and_forth} with $\mathcal{G} = \{ f: A \to B \ | \ \mathrm{Th}(\mathcal{M}, \mathrm{id}_A) = \mathrm{Th}(\mathcal{N}, f)\}$.
The extension property follows by considering $\mathrm{tp}^{\mathcal{M}}(a/A)$ which is realized in $\mathcal{N}$ and vice versa.

\subsection{Theorem of Los}
Let $\Sigma \subseteq \mathrm{Sen}(\mathcal{L})$ and $S = \{ \Delta \subseteq \Sigma \ | \ \Delta \ \text{finite}\}$.
For $\Delta \in S$ let $S_\Delta = \{ \Delta' \in S \ | \ \Delta \subseteq \Delta' \}$
Now define $\mathcal{D} = \{ S_\Delta \ | \ \Delta \in S \}$.
Then $\prod_{\Delta \in S} \mathrm{M}_\Delta / \mathcal{U}$ is a model of $\Sigma$ if $\mathcal{U}$ is an ultrafilter on $\mathcal{S}$ containing $\mathcal{D}$ and $\mathcal{M}_\Delta$ is a model of $\Delta$.
\paragraph{Proof} Follows from this lemma

\subsubsection{Lemma}
For an $\mathcal{L}$-formula $\phi$ have
\begin{equation*}
    \prod_s \mathcal{M}_s / \mathcal{U} \models \phi \Bigl[ \prod_s h_s / \mathcal{U} \Bigr] \ \Leftrightarrow \ \{ s \in S \ | \ \mathcal{M}_s \models \phi[h_s] \} \in \mathcal{U}
\end{equation*}
\paragraph{Proof idea} Use induction on the structure of $\phi$. The nontrivial case is $\phi = \forall x \psi$.
To show $\Leftarrow$, consider $(a_s)_s \in \bigtimes_s |\mathcal{M}_s|$. 
Now $\{ s \in S \ | \ \mathcal{M}_s \models \phi[h_s(x / a_s)]\}$ is a superset of the set above, thus in $\mathcal{U}$.
By induction hypothesis, get the claim for $\overline{(a_s)_s}$.
For $\Rightarrow$, consider $\neq\phi$ and use that $\mathcal{U}$ is an ultrafilter.

\subsection{Saturation and Ultraproducts}
Let $\mathcal{L}$ be countable and $(\mathcal{M}_n)_{n \in \N}$ be $\mathcal{L}$-structures. If $\mathcal{U}$ is a free ultrafilter on $\N$ then $\prod_n \mathcal{M}_n/\mathcal{U}$ is $\aleph_1$-saturated.
\paragraph{Proof idea} The proof relies on diagonal sequences.
Let $A \subseteq |\mathcal{M}|$ countable and $p(x) = \{\phi_1(x), \phi_2(x), ...\}$ a 1-type over $A$. 
Set $\psi_k := \phi_1 \wedge ... \wedge \phi_k$.
As $p$ is a type, $\psi_k$ is realized by $\overline{(c_{k, n})_n}$. Now use the following lemma with $A_k = \{ n \ | \ \mathcal{M}_n \models \psi_k(c_{k, n}) \}$ and get that $p$ is realized by $\overline{(c_{z_n, n})_n}$.

\subsubsection{Lemma}
Let $\mathcal{U}$ be a free ultrafilter on $\N$ and $(A_k)_k$ a sequence of sets in $\mathcal{U}$. Then there is a sequence of numbers $(z_n)_n$ such that
\begin{equation*}
    A^{(k)} := \{ n \ | \ z_n \geq k \ \text{and} \ n \in A_{z_n} \} \in \mathcal{U} \ \text{for all} \ k \in \N
\end{equation*}
\paragraph{Proof idea} Take for $z_n$ the greatest $k \leq n$ with $n \in A_k$, or $0$ if this does not exist. Now $A^{(k)} \supseteq A_k \setminus \{ 0, ..., k - 1 \} \in \mathcal{U}$ as $\mathcal{U}$ contains all cofinite sets..

\subsection{Robinson's Test}
Let $\Sigma \subseteq \mathrm{Sen}(\mathcal{L})$. Then the following are equivalent
\begin{itemize}
    \item $\Sigma$ is model-complete, i.e. $\Sigma \cup \mathcal{D}(\mathcal{M})$ is complete for all $\mathcal{M} \models \Sigma$
    \item If $\mathcal{M} \subset \mathcal{N}$ are models of $\Sigma$, then $\mathcal{M}$ is existentially closed in $\mathcal{N}$
    \item For all $\phi \in \mathrm{Fml}(\mathcal{L})$ there is a universal $\psi \in \mathrm{Fml}(\mathcal{L})$ with $\mathrm{Fr}(\psi) \subseteq \mathrm{Fr}(\phi), \ \Sigma \vdash \phi \leftrightarrow \psi$
    \item For all $\phi \in \mathrm{Fml}(\mathcal{L})$ there is an existential $\psi \in \mathrm{Fml}(\mathcal{L})$ with $\mathrm{Fr}(\psi) \subseteq \mathrm{Fr}(\phi), \ \Sigma \vdash \phi \leftrightarrow \psi$
\end{itemize}
\paragraph{Proof} (iii)$\Leftrightarrow$(iv) follows by considering $\neg\phi$. (i)$\Rightarrow$(ii) and (iii)$\wedge$(iv)$\Rightarrow$(i) are easy. For (ii)$\Rightarrow$(iii) we consider special cases first.

If $\phi$ is an existential sentence, use the separation lemma \ref{separation_lemma}.
Let $\Gamma = \{ \delta \in \mathrm{Sen}(\mathcal{L}) \ | \ \delta \ \text{universal} \}$ and $\Sigma_1 = \Sigma \cup \{ \phi \}, \Sigma_2 = \Sigma \cup \{ \neg \phi \}$.

Assume there are $\mathcal{M}_1, \mathcal{M}_2 \models \Sigma$ not separated by $\Gamma$.
Find a $\mathrm{card}(\mathcal{M}_2)$-saturated elementary extension $\mathcal{N}$ of $\mathcal{M}_1$.
As $\Gamma$ does not separate them, all existential sentences that hold in $\mathcal{M}_1$ hold in $\mathcal{M}_2$.
By \ref{saturation_embedding}, get wlog $\mathcal{M}_2 \subset \mathcal{N}$, thus $\mathcal{M}_1 \prec \mathcal{N} \supset \mathcal{M}_2$.
As $\mathcal{M}_2$ is existentially closed, get $\mathcal{M}_1 \models \phi$ if and only if $\mathcal{M}_2 \models \phi$.

The separation lemma now yields a universal $\gamma^*$ such that $\Sigma \vdash \phi \leftrightarrow \gamma^*$.
By introducing new constants, this can be generalized to all existential formulas $\phi$.
For arbitrary $\phi$, proceed by induction on the construction of $\phi$. The special case is used in the only nontrivial step, namely $\phi = \neg \psi$.

\subsection{Characterization of Inductive classes}
Let $\Sigma \subseteq \mathrm{Sen}(\mathcal{L})$. 
Then $\Sigma$ is inductive (i.e. its models are preserved under monotonous unions) if and only if $\mathrm{Mod}_{\mathcal{L}}(\Sigma) = \mathrm{Mod}_{\mathcal{L}}(\mathrm{Ded}_{\forall\exists}(\Sigma))$.
\paragraph{Proof} $\Leftarrow$ follows from \ref{model_chains_union}. To show $\Rightarrow$, consider a model $\mathcal{M}_0$ of $\mathrm{Ded}_{\forall\exists}(\Sigma)$ and construct a sequence
\begin{equation*}
    \mathcal{M}_0 \subset \mathcal{N}_0 \subset \mathcal{M}_1 \subset \mathcal{N}_1 \subset ...
\end{equation*}
where $\mathcal{N}_i$ are models of $\Sigma$. 
To get $\mathcal{N}_i$, construct an extension of $\mathcal{M}_i$ such that the latter is existentially closed, by considering a model of the consistent set $\Sigma \cup \mathrm{Th}_\forall(\mathcal{M}_i, \mathrm{id}_{|\mathcal{M}_i|})$.
To get $\mathcal{M}_{i + 1}$ consider a sufficiently saturated elementary extension of $\mathcal{M}_i$.
Now $\mathcal{M}_i \prec \bigcup_n \mathcal{M}_n = \bigcup_n \mathcal{N}_n$ which is a model of $\Sigma$.

\subsection{Omitting type Theorem}
\label{omitting_type_theorem}
Let $\mathcal{L}$ be countable and $\Phi_1(\bar{x}), \Phi_2(\bar{x}), ...$ be non-isolated types over a theory $T$.
Then $T$ has a model that omits all $\Phi_n$.
\paragraph{Proof idea} Introduce countably many constant symbols $C$ (these represent all elements whose existence is provable) and construct $\mathcal{L}(C)$ sentences $\Sigma^*$ with
\begin{itemize}
    \item For $\psi(x) \in \mathrm{Fml}(\mathcal{L}(C))$ have a $c \in C$ such that $\exists x \psi(x) \rightarrow \psi(c) \in \Sigma^*$ 
    \item For $\bar{c} \in C$ and $i \in \N$ have $\phi_i(\bar{x}) \in \Phi_i(\bar{x})$ such that $\neg\phi_i(\bar{c}) \in \Sigma^*$
\end{itemize}
Do this by recursively constructing consistent $\Sigma_n$ such that $\Sigma_n \setminus T$ is finite.
Then the substructure $\{ c^{\mathcal{A}} \ | \ c \in C \}$ of a model $\mathcal{A}$ of $\Sigma^*$ omits all $\Phi_n$.
We use the next lemma to perform this construction: 

Satisfy (i) for $\psi_n \in \mathrm{Fml}(\mathcal{L}(C))$ during step $(n, \perp)$ by adding a sentence with a previously unused constant $c_n \in C$, and satisfy (ii) for $c_{\bar{j}}$ and $j$ in step $(n, m)$ where $\bar{j}, j$ are the images of some bijection $m \mapsto (\bar{j}, j) \in \{ 0, ..., n \}^N \times \N$ (here we require that $\Phi(\bar{x})$ is not isolated).

\subsubsection{Lemma}
\label{countable_constraint_sequence}
There exists a bijective sequence $(x_n, y_n)_n$ with $x_n \in \N, y_n \in \N \cup \{\perp\}$ such that 
\begin{itemize}
    \item $(n, m)$ does not occur before $(n, \perp)$ for all $n, m \in \N$
    \item $(n_2, \perp)$ does not occur before $(n_1, \perp)$ for $n_1 < n_2$
\end{itemize}

\subsection{Ryll-Nardzewski Theorem}
\label{ryll_nardzewski}
Let $\mathcal{L}$ be countable and $T$ a complete theory. 
Then $T$ is $\aleph_0$-categorical if and only if for every $n \in \N$ there are only countably many $\phi(x_1, ..., x_n) \in \mathrm{Fml}(\mathcal{L})$ up to provable equivalence in $T$.

In this case, each countable model of $T$ is saturated.
\paragraph{Proof} (i) $\overset{\text{\ref{omitting_type_theorem}}}{\Leftrightarrow}$ all complete types are isolated $\Leftrightarrow$ $S_n(T)$ has discrete topology $\Leftrightarrow$ $S_n(T)$ is finite $\Leftrightarrow$ $S_n(T)$ has finitely many open sets $\Leftrightarrow$ (ii).

\subsection{Characterization of small theories}
Let $\mathcal{L}$ be countable and $T$ complete. Then $T$ is small (i.e. $S_n(T)$ countable) if and only if $T$ has a countable, saturated model.
\paragraph{Proof idea} $\Leftarrow$ holds as tuples over $\mathcal{M}$ determine each type $\Phi(\bar{x}) \in S_n(T)$. 
For $\Rightarrow$, consider an elementary chain $(\mathcal{M}_n)_n$ such that $\mathcal{M}_{n + 1}$ realizes all types over $\mathcal{M}_n$.

\subsection{Theorem of Vaught}
Let $\mathcal{L}$ be countable and $T$ complete. Then $T$ cannot have exactly two countable models, up to isomorphism.
\paragraph{Proof idea} wlog have that $T$ is small (otherwise the claim is easy). 
Then there is a saturated, countable mode, a non-saturated, countable model realizing a non-isolated type $\Phi$ and a countable model omitting $\Phi$ (that or $T$ is $\aleph_0$-categorical).

\subsection{Amalgamation Method}
Let $\mathcal{L}$ be countable and $\mathcal{K}$ a class of $\mathcal{L}$-structures.
Then the following are equivalent:
\begin{itemize}
    \item There is a countable $\mathcal{K}$-saturated $\mathcal{L}$-structure $\mathcal{M}$, i.e. $\mathcal{K}$ consists exactly of all finitely generated substructures of $\mathcal{M}$ and for $\mathcal{A}, \mathcal{B} \in \mathcal{K}$ with embeddings $f: \mathcal{A} \to \mathcal{M}, g: \mathcal{A} \to \mathcal{B}$ there is an embedding $h: \mathcal{B} \to \mathcal{M}$ such that $f = h \circ g$.
    \item $\mathcal{K}$ consists of finitely generated $\mathcal{L}$-structures and satisfies
    \begin{itemize}
        \item for $\mathcal{M} \in \mathcal{K}$ each finitely generated substructure of $\mathcal{M}$ is in $\mathcal{K}$
        \item every $\mathcal{M}_1, \mathcal{M_2} \in \mathcal{K}$ can be jointly embedded into some $\mathcal{N} \in \mathcal{K}$
        \item for $\mathcal{P}, \mathcal{M}_1, \mathcal{M}_2 \in \mathcal{K}$ and embeddings $f_i: \mathcal{P} \to \mathcal{M}_i$ find $\mathcal{N} \in \mathcal{K}$ and embeddings $g_i: \mathcal{M}_i \to \mathcal{N}$ such that $g_1 \circ f_1 = g_2 \circ f_2$.
    \end{itemize}
\end{itemize}
\paragraph{Proof} $\Rightarrow$ is easy. 
For $\Leftarrow$ use the combinatorial lemma \ref{countable_constraint_sequence} to construct a chain $\mathcal{M}_1 \subset \mathcal{M}_2 \subset ...$ such that
\begin{itemize}
    \item each $\mathcal{M} \in \mathcal{K}$ embeds into some $\mathcal{M}_k$.
    \item for embeddings $f: \mathcal{A} \to \mathcal{M}_n, \ g: \mathcal{A} \to \mathcal{B}$ with $\mathcal{A}, \mathcal{B} \in \mathcal{K}$ have embedding $h: \mathcal{B} \to \mathcal{M}_k$ such that $\mathcal{M}_n \subset \mathcal{M}_k$ and $h \circ g = f$.
\end{itemize}
As $\mathcal{K}$ is countable up to isomorphism ($\mathcal{L}$ is countable), we can satisfy (i) during the steps $(n, \perp)$.
During step $(n, m)$ we satisfy then (ii) for $\mathcal{A}_{n, m}, \mathcal{B}_{n, m}, \mathcal{M}_n, f_{n, m}, g_{n, m}$, where $\mathcal{A}_{n, m}, \mathcal{B}_{n, m}, f_{n, m}, g_{n, m}$ runs through all possible choice of these values as $m$ runs through $\N$ (if we count $\mathcal{A}, \mathcal{B}$ only up to isomorphism, these are countably many).
Now $\mathcal{M}^* := \bigcup_n \mathcal{M}_n$ satisfies the claim.

\subsection{The Standard Lemma}
\label{standard_lemma}
Let $I, J$ be infinite ordered sets and $(a_i)_{i \in I}$ a sequence in $|\mathcal{M}|$.
Then there is an $\mathcal{L}$-structure $\mathcal{N}$ and a sequence of indiscernibles $(b_j)_{j \in J}$ in $|\mathcal{N}|$ such that $\mathcal{M} \equiv \mathcal{N}$ and $(b_j)_j$ realizes the Ehrenfeucht-Mostowski-type
\begin{equation*}
    \mathrm{EM}^{\mathcal{M}}((a_i)_i) := \{ \phi(x_1, ..., x_n) \ | \ n \in \N, \ (\mathcal{M}, \mathrm{id}_{|\mathrm{M}|}) \models \phi(a_{i_1}, ... a_{i_n}) \ \text{for all} \ i_1 < ... < i_n \}
\end{equation*}
i.e. for $\phi(x_1, ..., x_n) \in \mathrm{EM}^{\mathcal{M}}((a_i)_i)$ have
\begin{equation*}
    (\mathcal{M}, \mathrm{id}_{|\mathcal{M}|}) \models \phi(b_{j_1}, ..., b_{j_n}) \ \text{for all} \ j_1 < ... < j_n
\end{equation*}
\paragraph{Proof} Introduce constants $C = \{ c_j \ | \ j \in J \}$ and define a corresponding order on $C$.
Now a model of
\begin{align*}
    \mathrm{Th}(\mathcal{M})& \cup \Sigma_C \cup \Gamma_{C, \mathrm{Fml}(\mathcal{L})} \\
    \text{where} \ &\Sigma_D = \{ \psi(\bar{c}) \ | \ \psi(\bar{c}) \in \mathrm{EM}^{\mathcal{M}}((a_i)_i), \ \bar{c} \in D^n \ \text{increasing} \} \\
    &\Gamma_{D, \Delta} = \{ \phi(\bar{c}) \leftrightarrow \phi(\bar{d}) \ | \ \phi(\bar{x}) \in \Delta, \ \bar{c}, \bar{d} \in D^n \ \text{increasing} \}
\end{align*}
shows the claim. So use the compactness theorem. 
A finite subset of these sentences is contained in $\mathrm{Th}(\mathcal{M}) \cup \Sigma_D \cup \Gamma_{D, \Delta}$ for finite $D \subseteq C, \Delta \subseteq \mathrm{Fml}(\mathcal{L})$.
Now we find $(a_d)_{d \in D}$ such that
\begin{equation*}
    (\mathcal{M}, (a_d)_d) \models \mathrm{Th}(\mathcal{M}) \cup \Sigma_D \cup \Gamma_{D, \Delta}
\end{equation*}
This can be done by choosing increasing elements from an infinite set $B$, where $B \subseteq \{ a_i \ | \ i \in I \}$ such that $\bar{b} \sim \bar{d}$ for increasing $\bar{b}, \bar{d} \in B^n$.
Here $\sim$ is defined by
\begin{equation*}
    \bar{b} \sim \bar{d} :\Leftrightarrow (\mathcal{M}, \mathrm{id}_{\mathcal{M}}) \models \phi(\bar{b}) \leftrightarrow \phi(\bar{d}) \ \text{for all} \ \phi(\bar{x}) \in \Delta
\end{equation*}
We get this set $B$ from Ramsey's theorem, as the partition $\Omega_n(\{ a_i \ | \ i \in I \})/\sim$ is finite ($\Delta$ is finite).

\subsubsection{Ramsey's theorem}
Let $A$ be infinite, $n \in \N$ and set $\Omega_n(A) := \{ B \subseteq A \ | \ \mathrm{card}(B) = n \}$.
For a finite partition $\Omega_n(A) = \bigcup_{k \leq N} C_k$ have an infinite $\tilde{A} \subseteq A$ with $\Omega_n(\tilde{A}) \subseteq C_k$ for some $k \in \N$.

\paragraph{Proof idea} By induction on $n$.

\subsection{Skolem Theory}
For a language $\mathcal{L}$ there is a Skolem theory $T_{\mathrm{Skol}}$, i.e. a $\mathcal{L}_{\mathrm{Skol}}$-theory with
\begin{itemize}
    \item $T_{\mathrm{Skol}}$ has quantifier elimination
    \item $T_{\mathrm{Skol}}$ has a universal axiomatization
    \item Every $\mathcal{L}$-structure can be extended to a model of $T_{\mathrm{Skol}}$
    \item $\mathcal{L}_{\mathrm{Skol}}$ is an extension of $\mathcal{L}$ with same cardinality
\end{itemize}
\paragraph{Proof idea} Introduce function symbols for all $\forall \bar{x} \exists y \ \psi(\bar{x}, y)$.

\subsection{Stability and transcendence}
\label{stability_transcendence_facts}
Let $\mathcal{L}$ be countable and $T$ a complete $\mathcal{L}$-theory.
\begin{itemize}
    \item $T$ is $\kappa$-categorical for uncountable $\kappa$ $\Rightarrow$ $T$ is $\omega$-stable
    \item $T$ is $\omega$-stable $\Rightarrow$ $T$ is totally transcendental
    \item $T$ totally transcendental $\Rightarrow$ $T$ is $\kappa$-stable for every infinite $\kappa$
\end{itemize}
$T$ is defined to be $\kappa$-stable, if $\mathrm{card}(S_n^{\mathcal{M}}(A)) \leq \kappa$ for models $\mathcal{M}$ and $A \subseteq |\mathcal{M}|, \mathrm{card}(A) \leq \kappa$.
\\
$T$ is defined to be totally transcendental, if there is no model $\mathcal{M}$ with a binary tree of consistent $\mathcal{L}(\mathcal{M})$-formulas.
\paragraph{Proof idea}
For (i), assume there is a model $\mathcal{N}$ and a countable $A \subseteq |\mathcal{N}|$ such that there are distinct 1-types $(p_\alpha(x))_{\alpha < \aleph_1}$.
Now have $\mathcal{M}_0 \prec \mathcal{N}$ of cardinality $\aleph_1$ containing $A$ and realizing all $p_\alpha$ by Skolem-Löwenheim.
Thus have $\mathcal{M} \succ \mathcal{M}_0$ of cardinality $\kappa$ by Skolem-Löwenheim.
Now construct a model of cardinality $\kappa$ realizing only countably many types.

Let $\mathcal{N}^*$ be a model of $T \cup T_{\mathrm{Skol}}$ such that there is a sequence of distinct indiscernibles $(a_\alpha)_{\alpha < \kappa}$ by \ref{standard_lemma}.
Let $\mathcal{A}$ be the substructure generated by the $a_i$. Then $\mathcal{A} \prec \mathcal{N}^*$ has $T \cup T_{\mathrm{Skol}}$ is universal ($T_{\mathrm{Skol}}$ has quantifier elimination).
Each element of $\mathcal{A}$ is now $t(a_{i_1}, ..., a_{i_m})$ for an $\mathcal{L}$-term $t$, so its type is determined only by $t$ and the relative order of $i_1, ..., i_m$, giving only countably many choices.

For (ii), note that a binary tree induces $2^{\aleph_0}$ many different complete types.
For (iii), recursively construct a binary tree of consistent $\mathcal{L}(\mathcal{M})$-formulas by considering ``large'' formulas, defined as those contained in more than $\kappa$ many types.
By the following lemma, each large formula has suitable, large tree children.

\subsubsection{Lemma}
Let $X$ be an infinite set of cardinality $\kappa$ and $\mathcal{C} \subseteq 2^X$ with $\mathrm{card}(\mathcal{C}) > \kappa$.
Then there is $x \in X$ such that $\mathcal{C}_x := \{ A \in \mathcal{C} \ | \ x \in A \}$ and $\mathcal{C} \setminus \mathcal{C}_x$ are of cardinality $> \kappa$.
\paragraph{Proof} Assume not, so wlog $\mathrm{card}(\mathcal{C}_x) \leq \kappa$. Then also $\mathcal{C} \setminus \{ \emptyset \} = \bigcup_{x \in X} \mathcal{C}_x$ is of cardinality $\leq \mathrm{card}(\kappa \times \kappa) = \kappa$, a contradiction.

\subsection{Saturation and categoricity}
\label{uncountable_saturation_categoricity}
Let $\mathcal{L}$ be countable, $T$ a complete theory and $\kappa$ be an infinite cardinal. 
Then $T$ is $\kappa$-categorical if and only if every model of $T$ of cardinality $\kappa$ is saturated. 
\paragraph{Proof idea} Showing $\Leftarrow$ is easy. For $\Rightarrow$, if $\kappa = \aleph_0$ the claim follows by \ref{ryll_nardzewski}.
Otherwise, note that a model $\mathcal{M}$ is $\kappa$-stable by \ref{stability_transcendence_facts}, thus for $\lambda < \kappa$ we find an elementary extension that is $\lambda^+$-saturated and of same cardinality.
All of them are isomorphic by assumption, thus $\mathcal{M}$ is saturated.

\subsection{Constructible Prime Extensions}
\label{constructible_prime_extensions}
Let $\mathcal{L}$ be countable, $T$ a totally transcendental theory and $\mathcal{M}$ a model.
Then every $A \subseteq |\mathcal{M}|$ has a constructible elementary prime extension $\mathcal{M}_0$, so $\mathcal{M}_0$ is constructible over $A$ and every partial elementary map $A \to \mathcal{N}$ extends to an elementary embedding $\mathcal{M}_0 \to \mathcal{N}$.
\paragraph{Proof idea} A maximal constructible subset of $|\mathcal{M}|$ already defines an elementary substructure of $\mathcal{M}$ and an elementary prime extension of $A$.

\subsection{Theorem of Lachlan}
\label{lachlan_theorem}
Let $\mathcal{L}$ be countable and $T$ totally transcendental with an uncountable model $\mathcal{M}$.
Then there are arbitrarily large $\mathcal{N} \succ \mathcal{M}$ that omit every possible countable type, i.e. every countable type omitted in $\mathcal{M}$.

\paragraph{Proof idea} Call an $\mathcal{L}(\mathcal{M})$-formula ``large'', if it has uncountably many realizations in $\mathcal{M}$.
As $\mathcal{M}$ has no binary tree of consistent formulas, there is an $\mathcal{L}(\mathcal{M})$-formula $\phi_0(x)$ which does not have two large tree children (i.e. either $\phi_0 \wedge \psi$ or $\phi_0 \wedge \neg\psi$ are not large).
Thus $p(x) = \{ \psi(x) \in \mathrm{Fml}(\mathcal{L}(\mathcal{M})) \ | \ \phi_0 \wedge \psi \ \text{large} \}$ is a complete type over $\mathcal{M}$.

Now consider a constructible elementary prime extension $\mathcal{N}$ of $|\mathcal{M}| \cup \{a\}$, where $a$ realizes $p$ (in some elementary extension of $\mathcal{M}$) by \ref{constructible_prime_extensions}.
Let $\Phi(x) \subseteq \mathrm{tp}^{\mathcal{N}}(b/\mathcal{M})$ be a countable type realized in $\mathcal{N}$, then it is by constructibility isolated by some $\chi(a, y)$.
\begin{equation*}
    \Psi(x) := \{ \forall y \ (\chi(x, y) \rightarrow \phi(y)) \ | \ \phi \in \Phi \} \subseteq p \quad \text{is a countable subset}
\end{equation*}
We show that it is realized in $\mathcal{M}$, so we find an element $\tilde{a} \in |\mathcal{M}|$ ``sufficiently like $a$'' such that it can be used to isolate $\Phi$.
Then clearly $\Phi$ is realized in $\mathcal{M}$. 

Let $\Psi = \{ \psi_n \ | \ n \in \N \}$. Then the set $R_n$ of realizations of $\phi_0 \cap \neg\psi_n$ is countable, so also $\bigcup_{n \in \N} R_n$ is.
However $\phi_0$ has uncountably many realizations, so find one not in $\bigcup_n R_n$. This then realizes all $\psi_n$, hence $\Psi$.

Now repeat this construction to get an arbitrarily long elementary chain, yielding arbitrarily large elementary extensions.

\subsection{Morley's Theorem}
Let $\mathcal{L}$ be countable and $T$ an $\mathcal{L}$-theory. Then the following are equivalent:
\begin{itemize}
    \item $T$ is $\aleph_1$-categorical
    \item $T$ is $\kappa$-categorical for some uncountable cardinal $\kappa$
    \item $T$ is $\kappa$-categorical for all uncountable cardinals $\kappa$
\end{itemize}
\paragraph{Proof idea} Show only (ii) $\Rightarrow$ (i), the direction (i) $\Rightarrow$ (iii) was not proven.
Consider a non-saturated model $\mathcal{M}$ of $T$ of cardinality $\aleph_1$. Then $\mathcal{M}$ omits some countable type.
Using \ref{stability_transcendence_facts} and \ref{lachlan_theorem} we lift it to a non-saturated elementary extension of cardinality $\kappa$.
Now get a contradiction by \ref{uncountable_saturation_categoricity}.

\section{Algebra}

\subsection{Cauchy-Schwarz}

For $x, y \in V$ inner product space, have
\begin{equation}
    \langle x, y \rangle^2 \leq \langle x, x \rangle \langle y, y \rangle \nonumber
\end{equation}
\paragraph{Proof idea} Start with
\begin{equation}
    \langle x, x \rangle \left\langle y - \frac {\langle x, y \rangle}{\langle x, x \rangle} x, \ y - \frac {\langle x, y \rangle}{\langle x, x \rangle} x \right\rangle \geq 0 \nonumber
\end{equation}

\subsection{Sylow Theorems}

For a finite group $G$ with $|G| = n = p^em, \ p \in \mathbb{P}, \ p \perp m$ have:
\begin{itemize}
    \item There is $U \leq G$ with $|U| = p^e$
    \item For $U, V \leq G$ with $|U| = |V| = p^e$ have $U = gVg^{-1}$ for $g \in G$
    \item Let $s$ be the count of $U \leq G, \ |U| = p^e$. Then $s | m$ and $s \equiv 1 \mod p$
\end{itemize}

\paragraph{Proof idea} Use group operations, for 1. on $\chi := \{ U \leq G \ | \ |U| = p^e \}$, for 2. on $\chi := \{ gU \ | \ g \in G \}$ and for 3. on $\chi := \{ U \leq G \ | \ |U| = p^e \}$ with conjugation.

\subsection{Mordell's inequality}
Have $\gamma_d \leq \gamma_{d-1}^{(d - 1) / (d - 2)}$. Inductively, it follows $\gamma_d \leq \gamma_k^{(d-1)/(k-1)}$ ($\gamma$ here is Hermite's constant).
\paragraph{Proof} Let $L$ be a $d$-rank lattice for which Hermite's constant is reached, with dual $L^*$ and $x \in L^*$ with $\|x\| = \lambda(L^*)$.
\begin{equation}
    \begin{split}
        \Rightarrow& \ \left(\langle x \rangle ^\perp \cap L\right)^* = \pi_{\langle x \rangle ^\perp} (L^*) \ \Rightarrow \ \vol(L^*) = \|x\| \ \vol\left(\langle x \rangle^\perp \cup L\right)^* \\
        \Rightarrow& \ \sqrt{\gamma_{n-1}}^{1-n} \lambda(L)^{n-1} \leq \vol\left(\langle x \rangle^\perp \cap L\right) = \|x\| \ \vol(L) \leq \sqrt{\gamma_n} \vol(L^*)^{\frac 1 n} \vol(L) \\
        \Rightarrow& \ \sqrt{\gamma_n} \sqrt{\gamma_{n - 1}}^{n - 1} \geq \frac {\lambda(L)^{n-1}} {\vol(L)^{\frac {n-1} n}} = \sqrt{\gamma_n}^{n-1} \ \Rightarrow \ \sqrt{\gamma_n}^{n-2} \geq \sqrt{\gamma_{n-1}}^{n-1}
    \end{split} \nonumber
\end{equation}
where $M^*$ denotes the unique ``dual'' of $M$ in $\langle M \rangle$.

\subsection{Facts about finite rings}
\begin{itemize}
    \item $\mathbb{F}_q^*$ is cyclic for $q = p^n$
\end{itemize}
\paragraph{Proof} By the theorem on finitely generated abelian groups, have
\begin{equation}
    \mathbb{F}_q^* \cong \Z/n_1\Z \times ... \times \Z/n_s\Z \nonumber
\end{equation}
with $n_1 | ... | n_s$. Assume $s > 1$ and $n_1 \neq 1$. Then $n_s < N := |\mathbb{F}_q^*|$. For $x \in \mathbb{F}_q^*$, have therefore that $\mathrm{ord}(x) | n_s$, so $p(x) = 0$ with $p(X) := X^{n_s} - 1$. 
But this is a contradiction, as $p$ is a polynomial of degree $n_s$ with $N > n_s$ roots in the field $\mathbb{F}_q$.
\begin{itemize}
    \item if $p > 2$ is prime then $(\Z/p^\alpha\Z)^*$ is cyclic with generator $g$ or $g + p$, where $g \in \mathbb{F}_p^*$ is a generator of $\mathbb{F}_p^*$.
\end{itemize}
\paragraph{Proof} 
First we show: If $a^p \equiv 1 \mod p^\alpha$ then $a \equiv 1 \mod p^\beta$ for all $\beta < \alpha$ where $\alpha \geq 2$.
If $\beta = 1$ this is clear as $p \divides a^p - 1$ iff $p \divides a - 1$ as $a^p \equiv a \mod p$.
This shows the claim

So now let $\beta > 1$. Have $p^\alpha \divides a^p - 1$ and by IH also $p^{\beta - 1} \divides a - 1$.
It follows that $a = 1 + l p^{\beta - 1}$ for some $l \in \Z$ and we have
\begin{equation*}
    1 \equiv a^p \equiv (1 + l p^{\beta - 1})^p = \sum_{k = 0}^p \binom{p}{k} l^k p^{k(\beta - 1)} \equiv 1 + l p^{\beta} \mod p^{\beta + 1}
\end{equation*}
as $\beta + 1 \leq \alpha$ and $p^{\beta + 1} \divides p p^{2\beta - 2} \divides \binom{p}{k} p^{k\beta - 2}$ for $k \geq 2$.
Therefore $p \divides l$ and so $a \equiv 1 \mod p^{\beta}$.

We have for each prime $l \divides p - 1$ that
\begin{equation*}
    g^{p^{\alpha - 1} \frac {p - 1} l} \equiv 1 \mod p^\alpha \quad \Rightarrow \quad g^{p^{\alpha - 1} \frac {p - 1} l} \equiv g^{\frac {p - 1} l} \equiv 1 \mod p
\end{equation*}
where the latter is a contradiction as $g$ is a generator of $\mathbb{F}_p^*$. Therefore, $g$ is a generator of $(\Z/p^\alpha\Z)^*$ iff 
\begin{equation*}
    g^{p^{\alpha - 2} (p - 1)} \not\equiv 1 \mod p^\alpha
\end{equation*}
By using the claim recursively, this is implied by $g^{p - 1} \not\equiv 1 \mod p^2$. We have that
\begin{equation*}
    (g + p)^{p - 1} = \sum_{k = 0}^{p - 1} \binom{p - 1}{k} g^{p - 1 - k} p^k \equiv g^{p - 1} + (p - 1)g^{p - 2}p \equiv g^{p - 1} - p g^{p - 2} \mod p^2
\end{equation*}
So if $g^{p - 1} \equiv 1$ then this is $1 - p g^{-1} \not\equiv 1$ as $g^{-1}$ is a unit in $\Z/p^2\Z$, so $p g^{-1} \not\equiv 0$. 
Hence $g^{p - 1} \not\equiv 1$ or $(g + p)^{p - 1} \not\equiv 1$ and as both $g$ and $g + p$ are generators of $\mathbb{F}_p^*$, this implies that one of them is a generator of $(\Z/p^\alpha\Z)^*$.$\hfill\square$

\subsection{Chinese Remainder theorem}
Let $R$ be any commutative ring. For pairwise coprime ideals $I_1, ..., I_n \leq R$ have
\begin{equation*}
    R/(I_1 \cdot ... \cdot I_n) \cong R/I_1 \times ... \times R/I_n
\end{equation*}

\subsection{Main theorem of finitely generated modules over PIDs}
Let $R$ be a principal ideal domain and $M$ a finitely generated $R$-module. Then
\begin{equation*}
    M \cong R^d \oplus \bigoplus_{p \in \mathcal{P}} \ \bigoplus_{j \in \{1, ..., n_p\}} R / \left( p^{e_{pj}} \right)
\end{equation*}
where $\mathcal{P} \subseteq R$ is a set of prime elements and $n_p \in \N_{>0}$ for $p \in \mathcal{P}$. The set $\mathcal{P}$ is unique, as are the exponents $e_{pj}$ (up to order).

By the Chinese Remainder theorem, we get for finitely generated abelian groups $G$ that
\begin{equation*}
    G \cong \Z^d \oplus \bigoplus_{j \in \{1, ..., s\}} \Z/n_j\Z
\end{equation*}
for $n_1 | n_2 | ... | n_s$ with $s \in \N$.

\subsection{Smith normal form}
Let $A \in R^{m \times n}$ for a principal ideal domain $R$. Then there are $U \in \mathrm{SL}_m(R)$ and $V \in \mathrm{SL}_n(R)$ such that
\begin{equation*}
    U A V = \mathrm{diag}(n_1, ..., n_s, 0, ..., 0) \in R^{m \times n}
\end{equation*}
where $n_1 | n_2 | ... | n_s$ with $s \in \N$.

\subsection{The module $\Z^n$}
$\Z^n$ is a free, Noetherian $\Z$-module.

\subsection{Hilbert's basis theorem}
If $R$ is a Noetherian ring, then so is $R[s_1, ..., s_n]$ for $s_1, ..., s_n \in S$ with a ring extension $S \supseteq R$.

\subsection{Noether Normalization Theorem}
Let $A$ be a finitely generated ring extension of a field $K$ and $I \leq A$ a proper ideal.
Then there are $y_1, ..., y_d \in A$ algebraically independent such that $A$ is finitely generated over $K[y_1, ..., y_d]$ and $I \cap K[y_1, ..., y_d] = \langle y_{\delta + 1}, ..., y_d \rangle$.
\paragraph{Proof idea} Use induction on the number $n$ of generators $x_1, ..., x_n$ of $A$. 
An algebraic relation between them gives rise to a monic polynomial $f \in K[x_1, ..., x_{n - 1}][X]$ with $f(x_n) = 0$ by the following lemma.
Satisfying the condition with $I$ can be done using the same idea, although the proof becomes quite technical.

\subsubsection{Lemma}
Let $A$ be a finitely generated ring extension of a field $K$ and $f \in K[x_1, ..., x_n] \setminus \{0\}$.
Then there are $r_1, ..., r_{n - 1} \in \N$ such that $a^{-1}f(x_1 + x_n^{r_1}, ..., x_{n - 1} + x_n^{r_{n - 1}}, x_n)$ is monic with $a \in K^*$.

\subsection{Hilbert's Nullstellensatz}
Let $I \leq K[x_1, ..., x_n]$. Then
\begin{itemize}
    \item (weak Nullstellensatz) $1 \notin I$ if and only if $Z(I) \neq \emptyset$
    \item (strong Nullstellensatz) $\mathcal{I}(Z(I)) = \mathrm{Rad}(I)$
    \item (projective Nullstellensatz) If $I$ is homogeneous, then $\mathcal{I}^+(Z^+(I)) = \mathrm{Rad}(I)$
\end{itemize}
\paragraph{Proof idea} For (ii), let $f \in \mathcal{I}(Z(I)) \setminus \{0\}$ and consider $J = \langle I \rangle + \langle Xf - 1 \rangle \leq K[x_1, ..., x_n, X]$.
As $f$ vanishes on $Z(I)$ get $Z(J) = \emptyset$, so by the weak Nullstellensatz $1 \in J$.
Thus $1 = h_1 g_1 + ... h_s g_s + k(Xf - 1)$ so $1 = h_1(x_1, ..., x_n, \frac 1 f) g_1 + ... + h_s(x_1, ..., x_n, \frac 1 f) g_s$.
The claim follows.

\subsection{Krull's Principal Ideal Theorem}
\label{krulls_pit}
Let $R$ be an integral ring that is a finitely generated ring extension of a field $K$.
Then every minimal prime divisor $\mathfrak{y} \supseteq \langle a \rangle$ with $a \in R \setminus R^* \setminus \{ 0 \}$ has height 1.
\paragraph{Proof idea} 
Let $\mathfrak{y}, \mathfrak{y}_2, ..., \mathfrak{y}_s \supseteq \langle a \rangle$ be the minimal prime divisors and consider the localization $R_g$ where $g \in \bigcap_{i > 1} \mathfrak{y}_i \setminus \mathfrak{y}$.
Now $\mathfrak{y} = \mathrm{Rad}(\langle a \rangle)$ (but the height of $\mathfrak{y}$ is unchanged).
Using a Noether normalization, transfer this into a polynomial ring $K[y_1, ..., y_n]$ so $\mathrm{Rad}(\langle \tilde{a} \rangle) = \langle \tilde{b} \rangle$ for irreducible $\tilde{b}$ as polynomial rings are UFDs.
Clearly $\langle \tilde{b} \rangle$ has height 1.

\subsection{Krull's Height Theorem}
Let $R$ be a finitely generated ring extension of a field $K$ and let $I = \langle a_1, ..., a_m \rangle \leq R$.
Then every minimal prime divisor $\mathfrak{y}$ of $I$ has height at most $m$.
\paragraph{Proof idea} Use induction on $m$. 
By taking the quotient by the first component of a maximal prime ideal chain, have wlog that $R$ is an integral domain.
The base case follows by \ref{krulls_pit}. 
In the inductive case, find a maximal prime ideal chain $\mathfrak{y}_1 \subsetneq ... \subsetneq \mathfrak{y}_s \subsetneq \mathfrak{y}$ such that $\mathfrak{y}_s$ is a minimal prime divisor of $\langle a_1, ..., a_{m - 1} \rangle$ and then apply \ref{krulls_pit}.

\section{Algebraic Geometry}

\subsection{Main Theorem of Elimination Theory}
Let $V \subseteq \mathbb{P}^n$ be a projective $K$-variety with $(1 : 0 : ... : 0) \notin V$.
Let
\begin{equation*}
    \pi: V \to \mathbb{P}^{n - 1}, \ (a_0 : ... : a_n) \mapsto (a_1 : ... : a_n)
\end{equation*}
Then $\pi(V) = Z^+(\mathcal{I}^+(V) \cap K[x_1, ..., x_n])$.

In particular, it follows that for a morphism $\phi: V \to \mathbb{P}^m$ have \
\begin{equation*}
    \phi(V) = \pi_{x_{n + 1}, ..., x_{n + m}}(\underbrace{\{ (a, b) \ | \ b = \phi(a) \}}_{\text{closed in the product space of $\mathbb{P}^n$ and $\mathbb{P}^m$}})
\end{equation*}
is closed.

\paragraph{Proof} The inclusion $\subseteq$ clearly holds. 
So let $(a_1 : ... : a_n) \in Z^+(\mathcal{I}^+(V) \cap K[x_1, ..., x_n])$.
With $\mathcal{I}^+(V) = \langle f_1, ..., f_m \rangle$ it suffices to show that $J = \langle f_1(x, a_1, ..., a_n), ... f_m(x, a_1, ..., a_n) \rangle$ is a proper subset of $K[x]$.
Consider
\begin{equation*}
    \phi: K[x] \times ... \times K[x] \to K[x, y_1, ..., y_n], \quad (g_1, ..., g_m) \mapsto \sum_i g_i f_i(x, y_1, ..., y_n)
\end{equation*}
We see that $\mathrm{im}(\mathrm{ev}_{a_1, ..., a_n} \circ \phi) = J$. Hence, assume that $\mathrm{ev}_{a_1, ..., a_m} \circ \phi$ is surjective.
Let $g_1, ..., g_m \in K[x]$ such that $f := \phi(g_1, ... g_m)$ satisfies $f(a_1, ..., a_n) = 1$.
Then $f = \sum_i g_i f_i(x, y_1, ..., y_n) \in \mathcal{I}^+(V) \cap K[y_1, ..., y_n]$. We get a contradiction as by assumption, $f(a_1, ..., a_n) = 0 \neq 1$.

\section{Probabilities}

\subsection{Chernoff-Hoeffding}
$X_1, ..., X_n$ independent, $0 \leq X_i \leq 1$. Then
\begin{equation}
    \Pr\left[\sum X_i - \Ex\left[\sum X_i\right] \geq t\right] \leq \exp\left(-2\frac {t^2} n\right) \nonumber
\end{equation}

\section{Analysis}

\subsection{Inequalities}

\paragraph{Young's inequality}
\begin{equation}
    xy \leq \frac {x^p} p + \frac {y^q} q \text{ for } \frac 1 p + \frac 1 q = 1, \ x, y \geq 0 \nonumber
\end{equation}
\paragraph{Proof} By convexity of $\log$, have
\begin{equation}
    \begin{split}
        &\frac 1 p \log x^p + \frac 1 q \log y^q \leq \log \left( \frac 1 p x^p + \frac 1 q y^q \right) \\
        \Rightarrow \ &\log ( x y ) \leq \log \left( \frac 1 p x^p + \frac 1 q y^q \right) \nonumber
    \end{split}
\end{equation}

\paragraph{Hölder's inequality} For measurable functions $f, g$ and $\frac 1 p + \frac 1 q = 1$ (w.r.t measure $\mu$) have:
\label{hoelder_inequality}
\begin{equation}
    \| fg \|_1 = \int | fg | d\mu \leq \left( \int |f|^p d\mu \right)^{\frac 1 p} \left( \int |g|^q d\mu \right)^{\frac 1 q} = \|f\|_p \|g\|_q \nonumber
\end{equation}
\paragraph{Proof} By Young's inequality have
\begin{equation}
    \begin{split}
        &\frac {|fg|} {\| f \|_p \| g \|_q} \leq \frac {|f|^p} {p\|f\|_p^p} + \frac {|g|^q} {q\|f\|_q^q} \\
        \Rightarrow \ &\frac {|fg|} {\| f \|_p \| g \|_q} \leq \frac 1 {p \|f\|_p^p} \|f\|_p^p + \frac 1 {q \|g\|_q^q} \|f\|_q^q = 1 \nonumber
    \end{split}
\end{equation}

\subsection{Transformation}
$\phi: U \to \mathbb{R}^n$ injective. Then
\begin{equation}
    \int_{\phi(U)} f(x) dx = \int_U f(\phi(x)) \ |\det(D\phi)(u)| \ dx \nonumber
\end{equation}

\section{Topology}

\subsection{Separation axioms}
\begin{description}
    \item[T0] for distinct points $x, y$, have either $x \in U, y \notin U$ or $x \notin U, y \in U$ for open $U$
    \item[T1] for distinct points $x, y$ have $x \in U, y \notin U$ and $x \notin V, y \in V$ for open $U, V$ (equivalent to singletons are closed)
    \item[T2] or Hausdorff; points can be separated by open sets
    \item[T3] T1 + points can be separated from closed sets by open sets
    \item[T4] T1 + closed sets can be separated from closed sets by open sets
\end{description}

\subsection{Universal nets}
Every net $(x_i)_{i \in I}$ has a universal subnet.
\paragraph{Proof idea} 
Consider the filter $\mathcal{F} = \{F \subseteq I \ | \ \exists i \in I \ \forall j \in I: \ j \geq i \Rightarrow j \in F\}$ and use ultrafilter $\mathcal{U} \supseteq \mathcal{F}$ as index set.

\subsection{Initial topologies}
$\{ \bigcap_{\alpha \in \mathcal{F}} f_\alpha^{-1}(U_\alpha) \ | \ \mathcal{F} \subseteq \mathcal{A} \ \text{finite}, \ U_\alpha \in \tau_\alpha \}$ is a basis for the initial topology of $f_\alpha: X \to (X_\alpha, \tau_\alpha)$.

\subsection{Characterization of compactness}
The following are equivalent, where $(X, \tau)$ is a topological space
\begin{itemize}
    \item Every open cover of $X$ has a finite subcover
    \item For all $\mathcal{D} \subseteq 2^X$ of nonempty, closed sets with $\bigcap \mathcal{F} \neq \emptyset$ for each finite $\mathcal{F} \subseteq \mathcal{D}$ have that $\bigcap \mathcal{D} \neq \emptyset$
    \item For each chain $\mathcal{C} \subseteq 2^X$ of nonempty, closed sets have $\bigcap \mathcal{C} \neq \emptyset$
    \item Each universal net converges
    \item Each net has a convergent subnet
    \item Each closed $S \subseteq X$ is compact w.r.t the subspace topology
\end{itemize}
\paragraph{Proof} Interesting is only (iii) $\Rightarrow$ (ii). Given $\mathcal{D} \subseteq 2^X$ consider $\mathcal{S} := \{\mathcal{A} \subseteq \mathcal{D} \ | \ \bigcap \mathcal{A} \neq \emptyset \}$. Then by assumption, $\mathcal{S}$ contains all finite sets.
Also, $\mathcal{S}$ is also closed w.r.t monotone unions, as for a chain $\mathcal{C} \subseteq \mathcal{S}$ have that $\{ \bigcap C \ | \ C \in \mathcal{C} \}$ is a chain of nonempty closed sets, so $\bigcap \{ \bigcap C \ | \ C \in \mathcal{C} \} \neq \emptyset$ by assumption. But this is a lower bound for each $C \in \mathcal{C}$, so for $\bigcup \mathcal{C}$. Therefore, $\bigcup \mathcal{C} \in \mathcal{S}$.

Assume $\mathcal{A} \subseteq 2^\mathcal{D}$ is a set of smallest cardinality $\kappa$ not in $\mathcal{S}$. Then we can well-order $\mathcal{A} = \{a_\xi \ | \ \xi \in \kappa\}$ and get $\mathcal{A} = \bigcup_{\chi \in \kappa} \{ a_\xi \ | \ \xi \in \chi\}$ as $\kappa$ is infinite, so a limit ordinal. Therefore $\mathcal{A}$ is a monotone union of sets in $\mathcal{S}$ (by minimality of $\kappa$), so in $\mathcal{S}$.
Then $\mathcal{S} = 2^\mathcal{D}$ so $\mathcal{D} \in \mathcal{S}$ and therefore $\bigcap \mathcal{D} \neq \emptyset$.

\subsection{Tychonoffs Theorem}
For a collection of compact topological spaces $(X_i)_{i \in I}$ the product space $\prod_{i \in I} X_i$ is compact.
\paragraph{Proof idea} Follows directly from the fact that projections of universal nets are universal, and a space is compact iff every universal net converges.

\subsection{Urysohn's Lemma}
For closed $C_0, C_1$ in a T4 space $X$ there is a continuous $f: X \to [0, 1]$ with $\restr{f}{C_0} = 0$ and $\restr{f}{C_1} = 1$.
\paragraph{Proof idea} Construct by induction open sets $U_q$ for $q \in \Q \cap [0, 1]$ with $C_0 \subseteq U_q \subseteq \bar{U}_q \subseteq U_r \subseteq \bar{U_r} \subseteq C_1^c$ for $q < r$. Then take $f(x) := \inf \{q \in \Q \cap [0, 1] \ | \ x \in U_q \} \cup \{1\}$.

\subsection{Tietze's extension theorem}
For closed $C$ in a T4 space $X$ and continuous $f: C \to \R$ there is a continuous extension $\tilde{f}: X \to \R$.
\paragraph{Proof idea} Prove extension of $f: C \to ]-1,1[$ to $\tilde{f}: X \to ]-1,1[$, then the result follows by using a homeomorphism $]-1,1[ \to \R$.
By Urysohn's Lemma, it suffices to extend $f: C \to [-1, 1]$ to $\tilde{f}: X \to [-1, 1]$. For this, construct a sequence $h_n: X \to (\frac 2 3)^n [-\frac 1 3, \frac 1 3]$ of continuous functions such that $\sum_n h_n$ converges uniformly.

\subsection{Extension of uniformly continuous functions}
Let $S$ be a set in a metric space $M$ and $f: S \to \R$ uniformly continuous. Then $f$ can be continuously extended to $\tilde{f}: M \to \R$.
\paragraph{Proof idea} Use the following result: If $X$ is a topological space and $Y$ is T3, then for $D \subseteq X$ and continuous $f: D \to Y$ we can extend $f$ to $\bar{D} \to Y$ if 
\begin{equation*}
    \forall x \in \partial D \ \exists y \in Y \ \forall (x_i)_{i \in I} \ \text{net in $D$}: \ x_i \to x \ \Rightarrow \ f(x_i) \to y
\end{equation*}
This condition already determines the extension function $\tilde{f}$, and its continuity can be proven by contradiction. Assume a universal net $(x_i)_{i \in I}$ in $\bar{D}$ converges to $x \in \bar{D}$ but not $\tilde{f}(x_i) \to \tilde{f}(x)$. Construct a net $(w_j)_{j \in J}$ in $D$ such that $w_j \to x$ and $\tilde{f}(w_j)$ is outside of the closure of a fixed neighborhood $N$ of $\tilde{f}(x)$. This contradicts the assumption.

\subsection{Irreducibility}
If $X$ is a noetherian topological space, then there are only finitely many irreducible components.
\paragraph{Proof idea} Consider a minimal closed set $A$ that is not a finite union of irreducible closed sets.
However, $A$ cannot be the union of two proper closed subsets as these would be a finite union of irreducible closed sets.
Thus $A = X$ and the claim follows.

\section{Discrete}

\subsection{Gamma Function}
Defined for $\mathbb{C} \setminus -\mathbb{N}$. Possible definitions:
\begin{equation}
    \begin{split}
        \Gamma(z) &:= \int_0^{\infty} t^{z - 1} e^{-t} dt \ \text{ if } \text{Re}(z) > 0\\
        \frac 1 {\Gamma(z)} &= \lim_{n \mapsto \infty} {\ n + z - 1 \choose\ n } n^{1-z}\nonumber
    \end{split}
\end{equation}
We get
\begin{equation}
    \begin{split}
        \Gamma(z + 1) = z\Gamma(z) \nonumber
    \end{split}
\end{equation}

\section{Functional analysis}

\subsection{Minkowski-functional}
For an absorbing set $A \subseteq X$ the functional
\begin{equation}
    p_A: X \to \R, \quad x \mapsto \mathrm{inf}\{t \geq 0 \ | \ x \in tA \} \nonumber
\end{equation} is
\begin{itemize}
    \item subadditive if $A$ is convex
    \item homogenous if $A$ is balanced
    \item point-separating if $A$ is bounded and $X$ Hausdorff
\end{itemize}

\subsection{Kolmogorov's normability criterion}
$X$ is normable, iff an open, bounded, convex set $A \subseteq X$ exists.
\paragraph{Proof idea} Use the Minkowski-functional for $\tilde{A} = A \cap -A$ which is open, nonempty, bounded, convex.

\subsection{Baire's theorem}
$X$ complete and metric, $\left( A_n \right)_n$ open and dense $ \ \Rightarrow \ \bigcap A_n $ is dense.
\paragraph{Proof idea} For each $y \in X$, construct sequence $(x_n)_n$ with 
\begin{equation}
    x_n \in B_{\frac 1 n}(y) \cap \ \left( \bigcap_{k \leq n} A_n \right) \ \Rightarrow \ y = \lim x_n \in \mathrm{cl}\left( \bigcap_{i \leq k} A_i \right) \text{ for all } k \nonumber
\end{equation}

\subsection{Open mapping theorem}
$X, Y$ Banach and $T: X \to Y$ linear, continuous and surjective. Then $T$ is open.
\paragraph{Proof idea}
\begin{equation}
    \bigcup_{K \in \N} \mathrm{cl}\left(T(B_K(0))\right) = Y \ \Rightarrow \ \mathrm{cl}\left(T(B_K(0))\right)^\circ \neq \emptyset \ \text{for some } K\nonumber
\end{equation}
by Baire's theorem. It follows that $B_\epsilon(0) \subseteq T(B_1(0))$, so $T$ is open, by the following lemma:
\subsubsection{Lemma}
\label{closure_image_unit_ball}
Let $T \in \mathcal{L}(X, Y)$ such that $0 \in \mathrm{cl}(T(B_X))^\circ \neq \emptyset$. Then $0 \in T(B_X)^\circ$, where $B_X = B_1(0)$ is the unit ball.
\paragraph{Proof} The idea is, that $T$ is linear and continuous, so we can work with series. Let $y \in \epsilon B_Y \subseteq \mathrm{cl}(T(B_X))$. Recursivly construct sequences $(x_n)_{n \in \N}$ in $X$ and $(y_n)_{n \in \N}$ in $Y$ with
\begin{align*}
    y_0 = y, &\quad \| y_n \| < 2^{-n}\epsilon, \\
    \| x_n \| < 2^{-n}, &\quad \| y_n - T(x_n) \| < 2^{-n-1} \epsilon \\
    y_{n + 1} &= y_n - T(x_n)
\end{align*}
This is possible as $T(2^{-n}B_X)$ is dense in $2^{-n}\epsilon B_Y$ for each $n \in \N$. By completeness of $X$ have then that $\sum_n x_n$ converges to $x \in X$. Therefore, $T(x) = \sum_n T(x_n) = \sum_n y_n - y_{n + 1} = y_0 = y$ as $y_n \to 0$ for $n \to 0$.

\subsection{Hahn-Banach dominated extension theorem}
Let $X$ be a $\R$-vector space, $p: X \to \R$ sublinear (i.e. subadditive and homogenous w.r.t $\lambda \geq 0$) and $Y \subseteq X$ a subspace. A form $f: Y \to \R$ with $f \leq p$ can be extended to $F: X \to \R$ with $F \leq p$.
\paragraph{Proof idea} Let $F: U \to \R$ be the maximal element (exists by Zorn's lemma) in \begin{equation}
    \left\{ F: U \to \R \ | \ Y \subseteq U \subseteq X, \ \restr{F}{Y} = f, \ F \leq p \right\}  \nonumber
\end{equation}
Then $U = X$, as for $v \in X \setminus U$ have $p(v + y) - F(y) \geq \lambda \geq F(z) - p(z - v)$ for $y, z \in U$ by the reverse triangle inequality. Then $F'(u + tv) := F(u) + \lambda t$ is greater than $F$.

\subsection{Banach-Alaoglu}
$V \subseteq X$ neighborhood of $0 \ \Rightarrow \ K = \{ \phi \in X' \ | \ |\phi(V)| \leq 1 \}$ compact w.r.t weak-*-topology (weakest topology on $X'$ so that all $\hat{x} \in X''$ are continuous, $\hat{x}: X' \to \mathbb{K}, \ \phi \mapsto \phi(x)$).
\paragraph{Proof idea} Let $\gamma(x) > 0$ with $x \in \gamma(x)V$ for all $x \in X$. Then
\begin{equation}
    \mathbb{K}^X = \bigtimes_{x \in X} \mathbb{K} \ \Rightarrow \ K \subseteq \bigtimes_{x \in X} B_{\gamma(x)}(0) \ \text{compact by Tychonoff's theorem}\nonumber
\end{equation}
The topologies on the sets match, as the weak-*-topology on $K$ has a local base of finite intersections of $\hat{x_i}^{-1}(]-\epsilon_i, \epsilon_i[)$ and 
\begin{equation}
    \bigtimes_{x \in X} B_{\gamma(x)}(0) \cap X' \ \text{has one of sets} \ \bigcap_{1 \leq i \leq n} ]-\epsilon_i, \epsilon_i[ \times \bigtimes_{x \neq x_i} \mathbb{K} \cap X' \nonumber
\end{equation}

\section{Operator theory}

\subsection{Riesz Representation theorem}
Let $K$ be a compact metric space (compact Hausdorff space??). Consider $(C(X), \|\cdot\|_\infty)$ and the space of complex regular Borel measures $M(X)$ on $X$. Then $C(K)' \cong M(K)$ under
\begin{equation*}
    M(K) \to C(K)', \quad \mu \mapsto \Bigl(f \mapsto \int_K f \ d\mu\Bigr)
\end{equation*}

\subsection{Compact Operators and spaces}
From \ref{riesz_lemma} one can conclude that the unit ball $B_X$ is compact iff $\dim X < \infty$. Therefore, consider operators $T \in \mathcal{L}(X, Y)$ such that $\mathrm{cl}(T(B_X))$ compact, these are a Banach space $\mathcal{K}(X, Y)$.
\paragraph{Proof idea} To show that $\mathcal{K}(X, Y)$ is closed in $\mathcal{L}(X, Y)$, consider diagonal sequences.

\subsubsection{Riesz lemma}
\label{riesz_lemma}
Let $U \subsetneq X$ closed subspace of a normed space. For $\delta > 0$ have then $x \in X$ with $\|x\|=1$ and distance greater than $1 - \delta$ from $U$.
\paragraph{Proof idea} Consider any $x \in X \setminus U$ and an almost closest point $u \in U$. Then scale $x - u$ appropriately.

\subsection{Arzela-Ascoli}
\label{arzela_ascoli}
Let $X$ be a compact metric space. Then the continuous functions $C(X)$ from $X$ to $\R$ are normed via $\|\cdot\|_{\infty}$.
If a $M \subseteq C(X)$ is bounded, closed and equicontinuous (i.e. $\forall x \in X, \epsilon > 0 \ \exists \mathrm{neighborhood} \ N \ \mathrm{of} \ x \ \forall x \in M: \ x(N) \subseteq B_{\epsilon}(x(s))$), then $M$ is compact.

\paragraph{Proof} Let $(x_n)_{n \in \N}$ be a sequence in $M$. As $X$ is compact, it is separable, so have $X = \mathrm{cl}(\{ s_n \ | \ n \in \N \})$.
Therefore, recursivly construct subsequences
\begin{equation*}
    \left(x_n^{(k)}\right)_{n \in \N} \ \text{such that} \ \left(x_n^{(k)}(s_k)\right)_{n \in \N} \ \text{converges}
\end{equation*}
and consider the diagonal sequence $(y_n)_{n \in \N}$. Then $(y_n(s_k))_{n \in \N}$ converges for each $k \in \N$.

By equicontinuity, have for each $k \in \N$ a neighborhood $N_k$ of $s_k$ such that $\forall x \in M: \ x(N_k) \subseteq B_\epsilon(x(s_k))$.
Therefore, there is a subcover $N_i$ for $i \in I$ finite. As $(y_n(s_k))_{n \in \N}$ converges for each $k$, it simultaneously converges for each $i \in I$. This yields that $(y_n)_{n \in \N}$ is a Cauchy-sequence w.r.t $\|\cdot\|_{\infty}$.

\subsection{Projection theorem}
\label{projection_theorem}
Let $H$ be a Hilbert space and $K \subseteq H$ convex and closed. Then for $x \in H$ the infimum $\inf_{y \in K} \| y - x\|$ is reached by some $y \in K$. In particular, for $U \subseteq H$ closed subspace, $U^\perp$ is also closed and $H = U \oplus U^\perp$ is a topological decomposition.
\paragraph{Proof} We have $\| x + y \|^2 + \| x - y \|^2 = 2\| x \|^2 + 2\| y \|^2$. For any sequence $(x_n)_n$ in $K$ that has $\| x_n - x \| \to d := \inf_{y \in K} \| y - x\|$ we then have:
\begin{equation*}
    \frac 1 4 \| x_n - x_m \|^2 \leq \frac 1 2 \| x_n - x \|^2 + \frac 1 2 \| x_m - x \|^2 - \| \underbrace{\frac 1 2 x_n + \frac 1 2 x_m}_{\in K} - x \|^2 
\end{equation*}
If we choose $n, m$ large enough that $\| x_n - x \|^2, \| x_m - x \|^2 \leq d^2 + \epsilon$ then it follows
\begin{equation*}
    \frac 1 4 \| x_n - x_m \|^2 \leq d^2 + \epsilon - d^2 = \epsilon \quad \text{so} \quad \| x_n - x_m \| \leq 4\epsilon
\end{equation*}
So $(x_n)_n$ is a Cauchy sequence and converges to the searched point $y \in K$ (as $K$ is closed).

\subsection{Frechet-Riesz representation theorem}
Let $H$ be a Hilbert space. Then a isometric, bijective, conjugate linear map is given by
\begin{equation*}
    \phi: H \to H', \quad y \mapsto \langle \cdot , y \rangle
\end{equation*}
\paragraph{Proof} Show surjectivity, the rest is clear: For $x' \in H'$ have that $(\mathrm{ker}(x'))^\perp$ has dimension 1. By using \ref{projection_theorem} the claim follows.

\subsection{Spectra}
Let $T \in \mathcal{L}(X)$ for a Banach space $X$.
With
\begin{align*}
    \text{point spectrum} \quad \sigma_p(T) &:= \{ \lambda \in \mathbb{K} \ | \ \ker(T - \lambda) \neq \emptyset \} \\
    \text{continuous spectrum} \quad \sigma_c(T) &:= \{ \lambda \in \mathbb{K} \ | \ \ker(T - \lambda) = \emptyset, \ \mathrm{cl}(\mathrm{im}(T - \lambda)) \neq X \} \\
    \text{residual spectrum} \quad \sigma_r(T) &:= \{ \lambda \in \mathbb{K} \ | \ \ker(T - \lambda) = \emptyset, \ \mathrm{cl}(\mathrm{im}(T - \lambda)) = X, \ \mathrm{im}(T - \lambda) \neq X \} \\
    \text{spectrum} \quad \sigma(T) &:= \sigma_p(T) \cup \sigma_c(T) \cup \sigma_r(T)
\end{align*}
have that $\sigma(T)$ compact and bounded by $\| T \|_{\mathrm{op}}$.
\paragraph{Proof idea} Use the Neumann series $\sum_n T^n = (1 - T)^{-1}$ if convergent.

\subsection{Spectral theorem for compact, normal operators}
\label{spectral_theorem_operator}
Let $T \in \mathcal{K}(H)$ on a Hilbert space $H$ be normal (if $\mathbb{K} = \C$) resp. self-adjoint (if $\mathbb{K} = \R$). Then there is a countable orthonormal system $E$ and $\lambda_e \in \mathbb{K} \setminus \{0\}$ for $e \in E$ such that
\begin{equation*}
    T = \sum_{e \in E} \lambda_e \langle \cdot, e \rangle e
\end{equation*}
Additionally, $\{ \lambda_e \ | \ e \in E \}$ has $0$ as only accumulation point, is bounded by $\| T \|_{\mathrm{op}}$ and $\lambda_e$ takes the same value for only finitely many $e \in E$. Also $H = \ker T \oplus \mathrm{cl}(\mathrm{span}(E))$.
\paragraph{Proof} For $\lambda, \mu \in \sigma(T)$ with $\lambda \neq \mu$ have that $\ker(T - \lambda) \perp \ker(T - \mu)$ as $\mu v = T v = \lambda v$ implies $v = 0$. Therefore, take for $\lambda \in \sigma(T)$ orthonormal basis $\{ e_{\lambda, 1}, ..., e_{\lambda, n_\lambda} \}$ of $\ker(T - \lambda)$ and set
\begin{equation*}
    E = \{ e_{\lambda, i} \ | \ \lambda \in \sigma(T) \setminus \{0\} \}, \quad \lambda_{e_{\lambda, i}} = \lambda
\end{equation*}
Now consider $H_2 := (\ker T + \mathrm{cl}(\mathrm{span}(E)))^\perp$. Then $T(H_2) \subseteq H_2$ and $T_2 := \restr{T}{H_2}: H_2 \to H_2$ is compact and self-adjoint. If $T_2 = 0$ then $\ker(T_2) \subseteq H_2 \cap \ker(T) = \{0\}$ so we are done. 
So assume $T_2 \neq 0$. Then $T_2x = \lambda x$ for some $\lambda \neq 0$ (see next lemma). However, then $x \in \ker(T - \lambda)$, a contradiction.
The rest of the proposition follows from the next lemmas:

\subsubsection{Decomposition compact operator}
\label{decomposition_compact_operator}
Let $T \in \mathcal{K}(X)$ for Banach space $X$. Then $X = \ker((T - 1)^p) \oplus \mathrm{im}((T - 1)^p)$ for some $p \in \N$ (where the direct sum is a decomposition in the topological sense).
\paragraph{Proof idea} Show that the sequence of $N_i = \ker((T - 1)^i)$ is stationary. Assume not, then have $x_i \in N_i$ with $\|x_i\| = 1$ and distance $\frac 1 2$ to $N_{i - 1}$ by Riesz Lemma. Applying $T$ then yields a non-Cauchy sequence as for $m < n$ have
\begin{equation*}
    Tx_n - Tx_m = x_n - x_m + (T - 1)(x_n - x_m) \in x_n - \underbrace{x_m + \ker((T - 1)^{n - 1})}_{= N_{n - 1}}
\end{equation*}
a contradiction to the compactness of $T$. Similar show that $\mathrm{im}((T - 1)^i)$ is stationary and for an index $p \in \N$ at which both are constant the claim holds. The closedness of $\mathrm{im}((T - 1)^p)$ follows as $(T - 1)^p$ is open by the open mapping theorem.$\hfill\square$

\subsubsection{Lemma}
A compact operator $T \in \mathcal{K}(H)$ that is normal (if $\mathbb{K} = \C$) resp. self-adjoint (if $\mathbb{K} = \R$) has $\lambda \in \sigma(T)$ where $|\lambda| = \| T \|_{\mathrm{op}}$.

\subsubsection{Lemma (Spectrum of compact operators)}
Let $T \in \mathcal{K}(X)$. Then $\sigma(T)$ is countable with only accumulation point $0$.
\paragraph{Proof idea} Assume there are infinitely many $\lambda_n \in \sigma(T)$ pairwise distinct with $|\lambda_n| > \epsilon > 0$. By \ref{decomposition_compact_operator} each $T - \lambda_n$ is injective iff surjective, so have $Tx_n = \lambda_n x_n$ for non-zero $x_n$. 
It follows that they are linearly independent. By Riesz lemma, have $y_n \in \mathrm{span}\{x_1, ..., x_n\}$ with distance $\frac 1 2$ to $\mathrm{span}\{x_1, ..., x_{n - 1}\}$ and $\| y_n \| = 1$. Then $Ty_n$ has distance $\frac 1 2 \epsilon$ from $\mathrm{span}\{Tx_1, ..., Tx_{n-1}\}$, but this contradicts the compactness of $T$.

\subsection{Singular value decomposition}
Let $T \in \mathcal{K}(H_1, H_2)$. Then there is $N = \{ 1, ..., n \}$ or $N = \N$ and orthonormal systems $\{ e_n \ | \ n \in N \}$ of $H_1$ and $\{ f_n \ | \ n \in N \}$ of $H_2$ and $\{ s_n \ | \ n \in N \} \subseteq \R_{>0}$ with $0$ as only accumulation point such that
\begin{equation*}
    T = \sum_{n \in N} s_n \langle \cdot, e_n \rangle f_n
\end{equation*}
\paragraph{Proof idea} 
The operator $T^* \circ T$ is positive, self-adjoint and compact, so has a unique positive, self-adjoint compact root $S$ with $S \circ S = T^* \circ T$ (take the root of each eigenvalue in the representation of \ref{spectral_theorem_operator}).
Then $T = U \circ S$ for a unitary operator $U$ and with $S = \sum_{e \in E} \lambda_e \langle \cdot, e \rangle e$ have that
\begin{equation*}
    T = \sum_{e \in E} \lambda_e \langle \cdot, e \rangle Ue
\end{equation*}
which is of the specified form.$\hfill\square$

\section{(Algebraic) Number Theory}

\subsection{Propositions}
Let $K|\Q$ separable and $\mathcal{O}_K$ integral closure of $\Z$. The following basic propositions can be found in Neukirch's book.
\begin{description}
    \item[2.9] For $\alpha_1, ..., \alpha_n \in \mathcal{O}_K$ basis of $K$, then $d(\alpha_1, ..., \alpha_n)\mathcal{O}_K \subseteq \alpha_1 \Z + ... + \alpha_n \Z$.
    \item[2.10] Each finitely generated $\mathcal{O}_K$-module $M \subseteq K$ is a free $\Z$-module. 
    \item[3.1] $\mathcal{O}_K$ is a Dedekind domain, so noetherian, integrally closed and each prime ideal $p \neq 0$ is maximal.
    \item[3.3] Each ideal except $(0), (1)$ has a unique factorization in prime ideals (up to order). 
\end{description}

\subsection{Minkowski's theorem (Neukirch 4.4)}
Let $V$ be a $n$-dimensional euclidean vector space, $\Gamma \subseteq V$ be a complete lattice, $X \subseteq V$ convex and balanced with $\mathrm{vol}(X) > 2^n \mathrm{vol}(\Gamma)$, then $X \cap \Gamma \neq \emptyset$.

\subsection{The Class group (Neukirch 6.3)}
Let $K$ be a number field with ring of integers $\mathcal{O}_K$. Then the set of fractional ideals is a group and the principal ideals form a subgroup. The quotient group is finite and called the class group $\mathrm{Cl}_K$. In particular, every $c \in \mathrm{Cl}_K$ contains an integral ideal $I$ of norm
\begin{equation*}
    N(I) := [ \mathcal{O}_K : I ] \leq M_K := \left( \frac 4 \pi \right)^s \frac {n!} {n^n} \sqrt{|d_k|}
\end{equation*}
where $s$ is the number of pairs of complex embeddings $K \to \mathbb{C}$ and $n = [K : \Q]$.
\paragraph{Proof idea} Consider an equivalence class $[\mathfrak{a}]$. Then $\gamma \mathfrak{a}^{-1} \subseteq \mathcal{O}_K$ for some $\gamma \in \mathcal{O}_K$.
By Minkowski's theorem, there is a $a \in \gamma\mathfrak{a}^{-1}$ of norm
\begin{equation*}
    N_{K|\Q}(a) \leq \left(\frac 2 \pi\right)^s \frac {n!} {n^n} \sqrt{|d_k|} N(\gamma\mathfrak{a}^{-1}) = \left(\frac 4 \pi\right)^s \frac {n!} {n^n} \sqrt{|d_K|} N(\gamma) N(\mathfrak{a})^{-1}
\end{equation*}
Therefore for the ideal $a\gamma^{-1}\mathfrak{a}$ in $[\mathfrak{a}]$ we have
\begin{equation*}
    N(a\gamma^{-1}\mathfrak{a}) \leq \left(\frac 4 \pi\right)^s \frac {n!} {n^n} \sqrt{|d_K|}
\end{equation*}
This is integral, as $(\gamma) = \gamma\mathfrak{a}^{-1}\mathfrak{a} \ | \ a\mathfrak{a}$.$\hfill\square$

\subsection{Dirichlet's unit theorem}
For $K / \Q$ finite with ring of integers $\mathcal{O}_K$, have $\mathcal{O}_K^* \cong \mu(K) \oplus G$, where $\mu(K)$ are the roots of unity and $G$ is a free group of rank $r + s - 1$, where $r$ is the number of real $\Q$-embeddings $K \to \R$ and $s$ is the number of conjugate pairs of complex $\Q$-embeddings $K \to \C$.

\subsection{Square number fields}
For a square-free $D \in \Z, \ D \neq 0, 1$ have $K = \Q(\sqrt{D})$. Then $d := d_K = D$ if $D \equiv 1 \mod 4$ and $d := d_K = 4D$ otherwise. Furthermore, $\mathcal{O}_K = \Z[\frac 1 2 (1 + \sqrt{d_K})]$.

In the case $D > 1$, have that $\mathcal{O}_K^* = \langle \epsilon_1 \rangle$, where $\epsilon_1 = \frac 1 2 (x + y \sqrt{d})$ for the smallest solution $x, y \geq 0$ of $x^2 - dy^2 = -4$ (or $... = 4$ if this has no integral solution).

In the case $D < 0$, have that 
\begin{equation}
    \mathcal{O}_K^* = \begin{cases}
        \{ 1, -1, i, -i \} & \text{if} \ D = -1 \\
        \left\{ e^{\frac {2\pi i k} 6} \middle| k \in \{0, ..., 5\} \right\} & \text{if} \ D = -3 \\
        \{ 1, -1 \} & \text{otherwise}
    \end{cases} \nonumber
\end{equation}
\paragraph{Proof idea of the second part} For $\epsilon = \frac 1 2 (u + v \sqrt{d_K}) \in \mathcal{O}_K^*$ have
\begin{equation*}
    N_{K|\Q}(\epsilon) = \frac 1 4 (u^2 - d_K v^2) \in \{ -1, 1 \} \ \Rightarrow \ u^2 - d_K v^2 = \pm 4
\end{equation*}
By Dirichlet's unit theorem have fundamental unit $\epsilon = \frac 1 2 (u + v \sqrt{d_K})$ and as $-\epsilon$ and $\epsilon^{-1}$ together with $-1$ also generate $\mathcal{O}_K^*$, we may assume $u, v \geq 0$.
Therefore, $\epsilon^k = \frac 1 2 (x + y\sqrt{d_K})$ and as in
\begin{equation*}
    \frac 1 2 (w + t\sqrt{d_K})\frac 1 2 (u + v \sqrt{d_K}) = \frac 1 4 (wu + d_K tv + (ut + vw)\sqrt{d_K})
\end{equation*}
the part $\frac 1 4 (wu + d_K tv)$ is greater than $\frac 1 2 w$ as wlog $u \geq 2$, have that $u, v$ must be the smallest solution of Pell's equation.

\subsection{Ramification (de: Verzweigung)}
Let $\mathcal{R}$ be a Dedekind domain, $K = \mathrm{Quot}(\mathcal{R})$ and $\mathcal{O}$ the integral closure of $\mathcal{R}$ in an algebraic and separable field extension $L|K$. Then $\mathcal{O}$ is a Dedekind domain.

For a prime ideal $\mathfrak{p}$ in $\mathcal{R}$, have
\begin{description}
    \item[8.2] Have $\sum e_i f_i = n := [L : K]$ where $\mathfrak{p}\mathcal{O} = \mathfrak{B}_1^{e_1}...\mathfrak{B}_r^{e_r}$ is the factorization of $\mathfrak{p}$ into prime ideals in $\mathcal{O}$ and $f_i = [\mathcal{O}/\mathfrak{B}_i : \mathcal{R}/\mathfrak{p}]$. The proof uses the CRT and the properties of $\mathcal{O}/\mathfrak{B}_i$ as $\mathcal{R}/\mathfrak{p}$-vector space.
    \item[8.3] Let $L = K(\alpha)$ for an integral, primitive element $\alpha \in \mathcal{O}$. If $\mathfrak{p}$ is a prime ideal that does not divide the leader $\mathcal{F}$ of $\mathcal{R}[\alpha]$ (the largest ideal contained in $\mathcal{R}[\alpha]$), then $\mathfrak{p} = \mathfrak{B}_1^{e_1}...\mathfrak{B}_r^{e_r}$ for $\mathfrak{B}_i = \mathfrak{p}\mathcal{O} + p_i(\alpha)\mathcal{O}$, where the minimal polynomial $p$ of $\alpha$ splits into irreducible factors mod $\mathfrak{p}\mathcal{O}$ 
    \begin{equation}
        p(X) \equiv p_1(X)^{e_1} ... p_r(X)^{e_r} \mod \mathfrak{p}\mathcal{O} \nonumber
    \end{equation} 
    Also have $f_i = \mathrm{deg}(p_i)$.

    By definition of $\mathcal{F}$, note that for a number field $K$ (i.e. $\mathcal{R} = \Z$) it is sufficient if $\mathfrak{p} = (p) \not| \ ([\mathcal{O} : \Z[\alpha]])$.
\end{description}
If $L|K$ is galoisch, we can consider the effect of the Galois group on the prime ideals $\mathfrak{B} \leq \mathcal{O}$ over some prime ideal $\mathfrak{p} \leq \mathcal{R}$.
Fix some prime ideal $\mathfrak{B} \leq \mathcal{O}$ over $\mathfrak{p}$ and consider
\begin{align*}
    \text{``Zerlegungsgruppe''} \ &G_{\mathfrak{B}} := \{ \sigma \in G \ | \ \sigma \mathfrak{B} = \mathfrak{B} \} \ &\text{with fixed field} \ Z_{\mathfrak{B}} = L^{G_\mathfrak{B}} \\
    \text{``Trägheitsgruppe''} \ &I_{\mathfrak{B}} := \mathrm{ker}(\phi) \ &\text{with fixed field} \ T_\mathfrak{B} = L^{I_\mathfrak{B}}
\end{align*}
where
\begin{equation*}
    \phi_\sigma: \mathcal{O}/\mathfrak{B} \to \mathcal{O}/\mathfrak{B}, \quad [a] \mapsto [\sigma a]
\end{equation*}
Let then be $e$ resp. $f$ be the ``Verzweigungsindex'' (maximal power such that $\mathfrak{B}^e | \mathfrak{p}$) resp. ```Trägheitsindex'' (the index of $\mathcal{O}/\mathfrak{B} | \mathcal{R}/\mathfrak{p}$) of $\mathfrak{B}$ over $\mathfrak{p}$. If $\mathcal{O}/\mathfrak{B} | \mathcal{R}/\mathfrak{p}$ is separable, have the following representation:
\begin{align*}
    \mathfrak{p} \quad \underset{1}{\overset{1}{\subseteq}} \quad \mathfrak{B}_Z := \mathfrak{B} \cap Z_\mathfrak{B} \quad \underset{1}{\overset{f}{\subseteq}} \quad \mathfrak{B}_T := \mathfrak{B} \cap T_\mathfrak{B} \quad \underset{e}{\overset{1}{\subseteq}} \quad \mathfrak{B}
\end{align*}
where the ``Verzweigungsindizes'' are written over the corresponding ideal decompositions and the ``Trägheitsindizes'' are written below, respectivly.

\subsection{Quadratic Reciprocity}
For $a \in \Z$ and $p \in \mathbb{P}$ and $n = \prod_{p} p^{e_p} \in \N_{\geq 2}$ define
\begin{equation*}
    \left(\frac a p \right) := \begin{cases}
        0 & \text{if} \ a = 0 \\
        1 & \text{if there is $x$ with} \ a \equiv x^2 \mod p \\
        -1 & \text{otherwise}
    \end{cases} \quad \text{and} \quad
    \left(\frac a n \right) := \prod_p \left( \frac a p \right)^{e_p}
\end{equation*}
Then for odd $a, n$ have
\begin{equation*}
    \left(\frac a n\right) = \begin{cases}
        -\left(\frac n a \right) & \text{if} \ a \equiv n \equiv 3 \mod 4 \\
        \left(\frac n a \right) & \text{otherwise}
    \end{cases} \quad \text{and} \quad
    \left(\frac 2 n\right) = \begin{cases}
        1 & \text{if} \ n \equiv \pm 1 \mod 8 \\
        -1 & \text{if} \ n \equiv \pm 3 \mod 8
    \end{cases}
\end{equation*}

\section{Elliptic Curves}

Let $\mathbb{P}^2 := \mathbb{P}^2_{\bar{K}}$ be the 2 dimensional projective space over the algebraic closure $\bar{K}$ of a field $K$.
Furthermore, denote a rational map $\phi$ defined on a variety $V$ that is given by $\phi_1, ..., \phi_n \in K(V)$ with homogeneous, equal-degree numerators and denominators by $\phi = [\phi_1, ..., \phi_n]$.

\subsection{Definition}
An elliptic curve is a pair $(E, O)$ where $E$ is a nonsingular curve of genus one in $\mathbb{P}^2$ and $O \in E$.
It can be shown (Arithmetic of Elliptic Curves, III 3.1) that if $E$ is defined over $K$ there is always an (variety-) isomorphism $[x, y, 1]$ that maps
\begin{equation*}
    [x, y, 1]: E \to \mathcal{Z}\left((Y^2 + a_1 X Y + a_3 Y - X^3 - a_2 X^2 - a_4 X - a_6)^{\mathrm{hom}}\right)
\end{equation*}
for $a_1, ..., a_6 \in K$ where the defining polynomial is also called Weierstraß equation.
If $\mathrm{char}(K) \not\in \{ 2, 3 \}$ then there is even a degree-1 isomorphism between $\mathrm{im}[x, y, 1]$ and a curve of the form
\begin{equation*}
    E' = \mathcal{Z}\left((Y^2 - X^3 - A X - B)^{\mathrm{hom}}\right)
\end{equation*}
Usually we do not explicitly mention the homogenization or the projective nature and say the projective curve $E' = \mathcal{Z}((f - g)^{\mathrm{hom}})$ is given by the equation $E': f = g$.

For a curve $E'$ given by the last equation, define the discriminant 
\begin{equation*}
    \Delta(E') := -16(4A^3 + 27B^2)
\end{equation*}    
and the j-invariant
\begin{equation*}
    j(E') := -1728 \frac {64 A^3} \Delta
\end{equation*}

For an elliptic curve $E$ given by $E: Y^2 + a_1 XY + a_3 Y - X^3 + a_2 X^2 + a_4 X + a_6$ also define a group law on $E$ via
\begin{align*}
    -(x_1, y_1) &:= (x_1, -y_1 - a_1 x_1 - a_3) \\
    \lambda &:= \begin{cases}
        \frac {y_2 - y_1} {x_2 - x_1} \ \text{if} \ x_1 \neq x_2 \\
        \frac {3 x_1^2 + 2 a_2 x_1 + a_4 - a_1} {2 y_1 + a_1 x_1 + a_3} \ \text{otherwise}
    \end{cases} \\
    x_3 &:= -x_1 - x_2 - a_2 + \lambda (\lambda + a_1) \\
    (x_1, y_1) + (x_2, y_2) &:= (x_3, -y_1 - a_3 - a_1 x_3 + \lambda (x_1 - x_3))
\end{align*}
It can be shown that this group law has the following geometric interpretation: 
For $P, Q \in E$ there is exactly one line through $P$ and $Q$ (with multiplicity, i.e. if $P = Q$ then this is the tangent line).
Then $-(P + Q)$ is defined as the third point of intersection of this line with $E$.

\subsection{Picard group structure}
\label{elliptic_curve_group}
Let $(E, O)$ be an elliptic curve. Then the map
\begin{equation*}
    \sigma: \mathrm{Div}^0(E) \to E, \quad D \mapsto \text{unique point} \ (P) \sim D + (O) 
\end{equation*}
is well-defined, surjective and $\sigma(D_1) = \sigma(D_2)$ iff $D_1 \sim D_2$. Furthermore
\begin{equation*}
    \bar{\sigma}: \mathrm{Pic}^0(E) \to E, \quad \overline{D} \mapsto \sigma(D)
\end{equation*}
is a group isomorphism. From the number theoretic perspective, $K[E] = K[x, y] = K[X, Y] / (Y^2 - f(X))$ is a Dedekind domain and the map
\begin{equation*}
    \phi: E \to \mathrm{Cl}(K[E]), \quad (\lambda : \mu : 1) \mapsto \overline{\langle x - \lambda, y - \mu \rangle}, \ (0 : 0 : 1) \mapsto \overline{\langle 1 \rangle}
\end{equation*}
is a group isomorphism.

\paragraph{Proof} See (Arithmetic of Elliptic Curves, III 3.4) for the first part.
To show that $K[E]$ is a Dedekind domain, note that $K[x]$ is and hence the integers $B$ in $K(E)$ are.
Now $K[E]$ is an order in $B$ and as $d(K[E])$ is square-free, it must already be the maximal order $B$.

That $\phi$ is injective follows from a lengthy elementary computation and a degree argument (note that $f$ has odd degree), for details see Cryptanalysis lecture.
By unique factorization of ideals, $\mathrm{Cl}(K[E])$ is generated by $\mathrm{im}\phi$. 
Note that $\langle x - \lambda, y - \mu \rangle \langle x - \lambda, y + \mu \rangle = \langle x - \lambda \rangle$ is principal, so $\mathrm{im}\phi$ is inversion-closed.
Lastly show that $\mathrm{im}\phi$ is addition-closed. I think it should be possible to compute the third point on the line and show that the product of the respective ideals is principal.
In Cryptanalysis, a more complex approach was chosen, so check this again.$\hfill\square$

\subsection{Isogenies}
Let $\psi: E_1 \to E_2$ be an isogeny between elliptic curves $E_1, E_2$, i.e. a morphism $\psi$ satisfying $\phi(O) = O$. Then $\psi$ is group homomorphism.
\paragraph{Proof} If $\psi$ is a morphism, then
\begin{equation*}
    \psi^*: K[E_2] \to K[E_1], \quad \overline{f} \mapsto \overline{f(\psi)}
\end{equation*}
is a ring homomorphism. 
In particular, $\psi^*$ is also a group isomorphism between the class groups. 
Now have $\psi = \phi^{-1} \circ \psi^* \circ \phi$ for the $\phi$ from \ref{elliptic_curve_group}.

This proposition is also useful if one applies it to the isomorphism between any elliptic curve and a corresponding elliptic curve given in Weierstraß form.
For this, see Arithmetic of Elliptic Curves, III 4.8) which uses a similar idea with $\psi_*$ between the Picard groups.$\hfill\square$

\subsection{Nonconstant isogenies are surjective}
Let $E_1, E_2$ be elliptic curves and $\phi: E_1 \to E_2$ an isogeny.
Then $\phi$ is either constant or surjective (note that it is crucial that the points of $E_1$ resp. $E_2$ are in $\mathbb{P}^2 = \mathbb{P}^2_L$ for an algebraically closed field $L | K$).
\paragraph{Proof} The image of $\phi$ is closed in the Zariski-topology, so either $\phi$ surjective or $\phi$ has finite image as $E_2$ is an irreducible 1-dimensional variety.
However, the kernel of $\phi$ is the fiber $\phi^{-1}(\mathcal{O})$ which does not contain $E_1$ by assumption. Thus $\phi^{-1}(\mathcal{O})$ is a proper subvariety of $E_1$ and hence 0-dimensional.
Thus $\ker\phi$ is finite, so $\phi$ cannot have finite image.

\section{Computational Algebraic Number theory and Cryptanalysis}

\subsection{Primality test}
Let $n \in \N_{>2}$ be odd with $n - 1 = d2^s, \ d \perp 2$ and consider
\begin{align*}
    U_n &:= \{ a \in \Z_n^* \ | \ a^{n - 1} \equiv 1 \mod n \} \leq \Z_n^* & \text{(Fermat)}\\
    V_n &:= \{ x \in \Z_n^* \ | \ x^{\frac {n - 1} 2} \equiv \left(\frac x n\right) \mod n \} \leq \Z_n^* & \text{(Solovay-Strassen)}\\
    W_n &:= \{ a \in \Z_n^* \ | \ a^d \equiv 1 \quad \text{or} \quad a^{2^r d} \equiv -1 \quad \text{for some} \ r < s \} & \text{(Miller-Rabin)}
\end{align*}
If $n$ is prime, then $U_n = V_n = W_n = \Z_n^*$ and otherwise, $V_n, W_n \neq \Z_n^*$. Furthermore, if $n$ is composite, then $\#W_n \leq \frac 1 4 n$.
\paragraph{Proof} That $U_n, V_n \leq \Z_n^*$ are subgroups can bee seen easily (note that $(\frac \cdot n )$ is multiplicative). Similarly, see that $V_n \subseteq U_n$ and if $n$ is prime, then all are equal by using that $\Z_n^*$ is cyclic.

For the other parts, use some key ideas: First, for each prime $p$ (so in particular for $p | n$) have $\Z_p^*$ is cyclic of even order (wlog $n$ odd) and we get that $a$ is a square if $2\mathrm{ord}[a]_p | \ p - 1$. Furthermore, we have the CRT and if $a^k \equiv -1$ then $[a]_p^k = [-1]$ for each prime factor $p | n$.

If $n = \prod_i p_i^{e_i}$ is composite, consider $x \in \Z_n^*$ which is congruent to a non-square modulo $p_1$ and congruent to $1$ modulo every other $p_i$. Then note that $x \notin V_n$ as
\begin{equation*}
    x^{\frac {n - 1} 2} \equiv 1^{\frac {n - 1} 2} \equiv 1 \not\equiv -1 \mod p_i \ \text{for some} \ i \neq 1 \quad \text{so} \quad x^{\frac {n - 1} 2} \not\equiv -1
\end{equation*}
where congruences are modulo $n$ unless otherwise mentioned.
\\
Now we consider $W_n$. Let $n = \prod_i p_i^{e_i}$ be odd and $a \in W_n$. 

If $a^d \equiv 1$ then the order $\mathrm{ord}[a]_{p_i}$ is odd for each $i$, and therefore $a$ is a square modulo $p_i$ by using that $\Z_{p_i}^*$ is cyclic of even order. Therefore, 
\begin{equation*}
    \left(\frac a n\right) = 1 \equiv a^{\frac {n - 1} 2} \ \text{so} \ a \in V_n
\end{equation*}

If $a^{2^rd} \equiv -1$ for $r < s$ have that $[a]_{p_i}^{2^rd} = [-1]$. It follows that $\mathrm{ord} [a]_{p_i} = 2^{r + 1}d_i$ for $d_i \perp 2$, as $2^kf := \mathrm{ord}[a] \ | \ 2^{r + 1}d, \ f \perp 2$ and if $k \leq r$ then
\begin{equation*}
    [-1] = [a]^{2^rd_i} = \left([a]^{2^k f}\right)^{\frac {d_i} f 2^{r - k}} = [1]^{\frac {d_i} f 2^{r - k}} = [1], \quad \text{a contradiction}
\end{equation*}
So $\mathrm{ord} [a]_{p_i} = 2^{r + 1}d_i$, hence $2^{r + 1} \ | \ p_i - 1$. We set $p_i = 2^{r + 1} b_i + 1$.

As above, $\Z_{p_i}^*$ is cyclic of even order, so we get
\begin{equation*}
    \left(\frac a {p_i}\right) = -1 \ \Leftrightarrow \ 2 \mathrm{ord}[a]_{p_i} \not| \ p_i - 1 \ \Leftrightarrow \ 2^{r + 2}d_i \not| \ p_i - 1  \ \Leftrightarrow \ 2^{r + 2} \not| \ p_i - 1 \ \Leftrightarrow \ b_i \perp 2
\end{equation*}
This yields
\begin{equation*}
    \left(\frac a {p_i}\right) = (-1)^{b_i} \quad \Rightarrow \quad \left(\frac a n\right) = \prod_i \left(\frac a {p_i}\right)^{e_i} = (-1)^{\sum_i b_i e_i}
\end{equation*}
Furthermore we get for the representation of $n$ modulo $2^{2r + 2}$ that
\begin{equation*}
    n = \prod_i p_i^{e_i} = \prod_i (2^{r + 1} b_i + 1)^{e_i} \equiv \prod_i (2^{r + 1} b_i e_i + 1) \equiv 1 + 2^{r + 1} \sum_i b_i e_i \mod 2^{2r + 2}
\end{equation*}
so
\begin{equation*}
    2^{s - 1}d = \frac {n - 1} 2 \equiv 2^r \sum_i b_i e_i \mod 2^{2r + 1} \quad \Rightarrow \quad 2^{s - r - 1} \equiv 2^{s - r - 1}d \equiv \sum_i b_i e_i \mod 2
\end{equation*}
and at last we get
\begin{equation*}
    a^{\frac {n - 1} 2} = a^{2^{s - 1}d} = \left( a^{2^rd} \right)^{2^{s - r - 1}} = (-1)^{2^{s - r - 1}} = (-1)^{\sum_i b_i e_i} = \left(\frac a n\right)
\end{equation*}
$\hfill\square$

\subsection{Hidden Subgroup Problem}
Given a group $G$ together with a group homomorphism $f: G \to X$ that is constant on all cosets of some subgroup $H \leq G$ and different on different cosets, find a generating set of $H$.
\paragraph{Quantum Algorithm for $G = \Z$}
Each subgroup $H \leq \Z$ is of the form $H = q\Z$, so $f$ is periodic with periode $b \in \Z$.
Now consider some big $N = 2^n \in \Z$ and consider
\begin{equation*}
    \sum_{x = 0}^{N - 1} |x\rangle \ |f(x)\rangle
\end{equation*}
With a $N$-th root of unity $\zeta$, applying the QFT yields
\begin{equation*}
    \frac 1 N \sum_{x = 0}^{N - 1} \sum_{k = 0}^{N - 1} \zeta^{k x} |k\rangle \ |f(x)\rangle
\end{equation*}
When measuring both states, the probability to get some $k \in \{0, ..., N-1\}, f(x_0) \in X$ is equal to
\begin{align*}
    &\frac 1 {N^2} \left| \ \sum_{x = 0, \ f(x) = f(x_0)}^{N - 1} \zeta^{k x} \ \right|^2 = \frac 1 {N^2} \left| \ \sum_{l = 0}^M \zeta^{k (x_0 + bl)} \ \right|^2 = \frac 1 {N^2} \left| \ \zeta^{kx_0} \ \sum_{l = 0}^M \zeta^{kbl} \ \right|^2 \\
    = \ &\frac 1 {N^2} \left| \ \sum_{l = 0}^M \zeta^{kbl} \ \right|^2 = \frac 1 {N^2} \left| \frac {1 - \zeta^{kb(M + 1)}} {1 - \zeta^{kb}} \right|^2 = \frac 1 {N^2} \left| \frac {\sin(2\pi \frac {kb(M+1)} N)} {\sin(2\pi \frac {kb} N)} \right|^2
\end{align*}
where $M = \left\lfloor \frac {N - x_0} b \right\rfloor \approx \frac N b$ and the denominators are non-zero as $b$ is wlog odd.

TODO

\section{Algorithms}

\subsection{Parameterized Algorithms design techniques}

\subsubsection*{Kernelization}

Given an instance $(X, k)$, compute an instance $(X', k')$ such that $(X, k)$ is a YES-instance if and only if $(X', k')$ is a YES-instance and the size of $X'$ is bounded by $f(k)$ (this is usually done via reduction rules).

\subsubsection*{Bounded search tree}

Given an instance $(X, k)$ compute instances $(X_1, k_1)$, ..., $(X_n, k_m)$ such that $(X, k)$ is a YES-instance if and only if at least one of the $(X_i, k_i)$ is a YES-instance. Additionally, it must hold that $d_i := k - k_i > 0$.
Then applying this algorithm recursively on all the $(X_i, k_i)$ yields an FPT algorithm with running time $O(\lambda^k \mathrm{poly}(n))$ where $\lambda$ is the positive root of the branching vector polynomial equation (there exactly one, as the $m-1, ..., 0$-th derivates all are non-positive up to some point, and then positive)
\begin{equation*}
    X^m = \sum_{i = 1}^m X^{m - d_i}
\end{equation*}

\subsubsection*{Iterative Compression}

Usually this is used for problems where solutions are (in some way) parts/subsets of the instance and behave monotonously (i.e. supersets of solutions are also solutions).
In this case, one normally has the size of the searched solution as parameter.
Then it is easy to reduce the original problem to its ``compression variant''
\begin{description}
    \item[Input] Given an instance $(X, k)$ and a solution to $Z \leq X$ of size exactly $k + 1$
    \item[Problem] Find a solution of size at most $k$ (or find that it does not exist)
\end{description}
By trying all $2^k$ subsets, we can further reduce it to the ``disjoint variant'' of the problem:
\begin{description}
    \item[Input] Given an instance $(X, k)$ and a solution $Y \leq X$ of size exactly $k + 1$
    \item[Problem] Find a solution of size at most $k$ that is disjoint to $Y$ (or that it does not exist) 
\end{description}

\subsection{Treewidth}

A tree $T$ with nodes in $2^V$ is called a tree decomposition of $G = (V, E)$, if
\begin{itemize}
    \item for $\{u, v\} \in E$ have a tree node containing $u, v$
    \item for $u \in V$ have a tree node containing $u$
    \item for $u \in V$ have that all tree nodes containing $u$ form a subtree of $T$
\end{itemize}
The width of a tree decomposition $T$ is the cardinality of its largest node minus 1.
The treewidth of a graph $G = (V, E)$ is the minimal width of a tree decomposition. 

\end{document}