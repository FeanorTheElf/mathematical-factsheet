\documentclass{scrartcl}

\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{xparse}
\usepackage{geometry}
\usepackage{enumerate}
\usepackage{tikz}
\usepackage[style=english]{csquotes}
\usepackage[language=english, backend=biber, style=alphabetic, sorting=nyt]{biblatex}

\usetikzlibrary{babel, positioning, shapes.geometric, arrows, arrows.meta}
\addbibresource{bibliography.bib}

\title{Some Notes on Morphisms, Regular Maps and Elliptic Curves}
\author{Simon Pohmann}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\I}{\mathbb{I}}
\newcommand{\V}{\mathbb{V}}
\newcommand{\proj}{\mathrm{proj}}
\newcommand{\Quot}{\mathrm{Quot}}
\renewcommand{\O}{O}

\newcommand\restr[2]{{
    \left.\kern-\nulldelimiterspace
    #1
    \vphantom{\big|}
    \right|_{#2}
}}

\newtheorem{prop}{Proposition}[section]
\newtheorem{theorem}[prop]{Theorem}
\newtheorem{lemma}[prop]{Lemma}
\newtheorem{corollary}[prop]{Corollary}

\theoremstyle{definition}
\newtheorem{problem}[prop]{Problem}
\newtheorem{alg}[prop]{Algorithm}
\newtheorem{definition}[prop]{Definition}
\newtheorem{example}[prop]{Example}
\newtheorem{remark}[prop]{Remark}

\begin{document}

\maketitle

\tableofcontents

\section{Maps on varieties}

\subsection{Algebraic maps}
First of all, we define the basic notions of algebraic maps, that is maps that are locally defined by polynomials.
For simplicity of notation, we already introduce the projective coordinate ring before.
\begin{definition}
    Let $X \subseteq \mathbb{P}^n$ be a projective variety. 
    Then the graded ring $S(X) := k[x_0, ..., x_n] / \I(X)$ is its projective coordinate ring.
\end{definition}
Note that the graded ring is not invariant under isomorphisms of projective varieties.
\begin{definition}
    Let $X \subseteq \mathbb{P}^n$ and $Y \subseteq \mathbb{P}^m$ be quasi-projective varieties, i.e. open subsets of the projective varieties $\bar{X}, \bar{Y}$.
    Then define
    \begin{itemize}
        \item A map $X \to Y$ is called \emph{morphism}, if it is given locally by polynomials, so for each $p \in X$ there is an open neighborhood $U$ of $p$ and homogeneous polynomials $f_0, ..., f_m \in S(\bar{X})$ of same degree such that
        \begin{equation*}
            (f_0(a), ..., f_m(a)) \neq 0 \ \text{and} \ f(a) = [f_0(a) : ... : f_m(a)] \ \text{for all $a \in U$}
        \end{equation*}
        \item A map $X \to k$ is called \emph{regular} at $p \in X$, if it is given by polynomials near $p$, i.e. there is an open neighborhood $U$ of $p$ and homogeneous polynomials  $g, h \in S(\bar{X})$ of same degree such that
        \begin{equation*}
            h(a) \neq 0 \ \text{and} \ f(a) = \frac {g(a)} {h(a)} \ \text{for all $a \in U$}
        \end{equation*}
        $f$ is called regular, if it is regular at all $p \in X$. 
        Denote the regular maps on $X$ by $\mathcal{O}_{\bar{X}}(X)$.
        We remark that this is a $k$-algebra.
    \end{itemize}
\end{definition}
In particular, regular maps and morphisms are technically the same thing, because if you consider $Y = k \subseteq \mathbb{P}^1$, then regular maps $X \to k$ are really just morphisms $X \to Y$.
However, they are usually used in a completely different way.
One often works with morphisms between varieties of the same type (e.g. morphisms between projective varieties), and then they differ fundamentally from regular maps (we only have the above equivalence by taking $Y = k$ to be an affine variety).

\subsection{The coordinate rings}
We have already introduced the projective coordinate ring, which is a not totally natural object, because it is not invariant under isomorphisms.
Affine varieties have a much nicer coordinate ring.
\begin{definition}
    For an affine variety $X \subseteq \mathbb{A}^n$, define the affine coordinate ring $k[X] := k[x_1, ..., x_n] / \I(X)$.
\end{definition}
This ring has a much tighter connection to the variety.
\begin{theorem}
    Let $\mathcal{V}$ be the category of affine varieties $\subseteq \mathbb{A}_k^n$ with affine morphisms, and $\mathcal{A}$ the category of finitely generated, reduced (commutative, unital) $k$-algebras.
    Then
    \begin{align*}
        \Phi: \mathcal{V}^{\mathrm{op}} \to \mathcal{A}, \quad V \mapsto k[V], \ \phi \mapsto \phi^*
    \end{align*}
    is an equivalence of categories.
\end{theorem}
Further, each affine and projective (and even quasi-projective) variety has a function field.
\begin{definition}
    For an affine variety $X \subseteq \mathbb{A}^n$, define the \emph{function field} as the field of fractions $k(X) := \mathrm{Frac}(k[X])$.
    For a projective variety $X \subseteq \mathbb{P}^n$, define the \emph{function field} as
    \begin{equation*}
        k(X) := \left\{ f/g \in \mathrm{Frac}(S(X)) \ \middle| \ f, g \ \text{homogeneous polynomials of same degree} \right\}
    \end{equation*}
\end{definition}
Note that we can evaluate an element $\frac f g \in k(X)$ at all points $a \in X \setminus \V(g)$ and get a well-defined value in $k$.
To get the function field of an arbitrary quasi-projective variety, one can define it as the function field of an affine chart.
We will not pursue that path further.
However, the following lemma is important.
\begin{lemma}
    Let $X \subseteq \mathbb{P}^n$ be a projective variety. Then for all embeddings $\mathbb{A}^n \subseteq \mathbb{P}^n$ get
    \begin{equation*}
        k(X \cap \mathbb{A}^n) \cong k(X) \quad \text{via} \quad \frac f g \mapsto \frac {x_0^d f({x_1} / {x_0}, ..., {x_n} / {x_0})} {x_0^d g({x_1} / {x_0}, ..., {x_n} / {x_0})}, \ d = \max \{\deg f, \deg g\}
    \end{equation*}
    Further, find that $k(X)$ is invariant under isomorphisms.
    If the embedding $\mathbb{A}^n \subseteq \mathbb{P}^n$ is clear, we will sometimes identify both fields.
\end{lemma}
Hence, the function field is again a natural property of varieties.

\subsection{The connection between them}
The function field is more or less equal to all regular maps defined on \emph{some} open subset of $X$. Namely
\begin{prop}
    Let $X \subseteq \mathbb{P}^n$ be an irreducible projective variety.
    Have a well-defined and injective $k$-algebra homomorphism
    \begin{equation*}
        \mathcal{O}_X(U) \to k(X), \quad f: U \to k \ \text{defined locally at $p \in U$ by $f = g/h$} \ \mapsto \ \frac g h
    \end{equation*}
    Further, this is in some sense surjective, meaning that for each $f \in k(X)$ there is some open $U \subseteq X$ such that $f$ is contained in the image of $\mathcal{O}_X(U) \to k(X)$.
\end{prop}
If we only consider regular maps that are defined on the whole of $X$, we get the following statement.
\begin{theorem}
    If $X \subseteq \mathbb{P}^n$ is a projective variety, find $\mathcal{O}_X(X) \cong k$.
    If $X \subseteq \mathbb{A}^n$ is an affine variety, find $\mathcal{O}_X(X) \cong k[X]$.
\end{theorem}
Describing morphisms is slightly more difficult, but they also allow a relatively nice definition using the function field.
\begin{theorem}
    Let $X \subseteq \mathbb{P}^n$ be a projective variety.
    Then there is a well-defined injection
    \begin{align*}
        \Phi: \{ f: X \to \mathbb{P}^m \ | \ f \ \text{morphism} \} &\to k(V)^m, \\ 
        f \ \text{defined locally by $f_0, ..., f_m \in S(X)$} \ &\mapsto \ \left( \frac {f_1} {f_0}, ..., \frac {f_n} {f_0} \right)
    \end{align*}
    that is compatible with evaluation maps, i.e. for $f: X \to Y$ and $g: Y \to \mathbb{P}^r$ have
    \begin{equation*}
        \Phi(g \circ f) = \mathrm{ev}_{\Phi(f)}(\Phi(g))
    \end{equation*}
\end{theorem}
\end{document}